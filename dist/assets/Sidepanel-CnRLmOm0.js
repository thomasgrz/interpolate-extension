import{o as mr,r as l,a as tt,c as pr,q as rt,j as c,e as N,b as A,f as B,s as ot,u as fe,d as re,P as nt,i as oe,t as vr,v as ko,A as $o,h as Bo,g as gr,w as Ho,x as Wo,y as zo,z as Go,C as Uo,F as Ko,D as Yo,E as Xo,G as qo,H as D,J as Sr,K as ne,L as Ae,M as Zo,N as Jo,O as Qo,S as br,Q as U,T as st,U as Ve,W as en,X as tn,m as yr,Y as rn,Z as on,_ as nn,$ as yt,a0 as sn,a1 as J,p as z,a2 as ve,a3 as an,a4 as ln,a5 as cn,a6 as un,a7 as dn,a8 as fn,a9 as hn,aa as mn,ab as it,ac as pn,ad as wr,ae as vn,l as gn,af as Sn,I as bn,n as yn}from"./useInterpolations-CTcpeT-h.js";import{l as Ke,b as Fe,R as wn,g as xr,H as xn,I as De,c as Cn}from"./InterpolateStorage-BI30zlBt.js";var wt={exports:{}},xt={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var er;function Fn(){if(er)return xt;er=1;var t=mr();function n(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var e=typeof Object.is=="function"?Object.is:n,r=t.useState,o=t.useEffect,s=t.useLayoutEffect,i=t.useDebugValue;function a(h,m){var v=m(),g=r({inst:{value:v,getSnapshot:m}}),p=g[0].inst,S=g[1];return s(function(){p.value=v,p.getSnapshot=m,u(p)&&S({inst:p})},[h,v,m]),o(function(){return u(p)&&S({inst:p}),h(function(){u(p)&&S({inst:p})})},[h]),i(v),v}function u(h){var m=h.getSnapshot;h=h.value;try{var v=m();return!e(h,v)}catch{return!0}}function f(h,m){return m()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:a;return xt.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,xt}var tr;function En(){return tr||(tr=1,wt.exports=Fn()),wt.exports}function Mn(t){const n=l.useRef({value:t,previous:t});return l.useMemo(()=>(n.current.value!==t&&(n.current.previous=n.current.value,n.current.value=t),n.current.previous),[t])}var Ct="rovingFocusGroup.onEntryFocus",Tn={bubbles:!1,cancelable:!0},Pe="RovingFocusGroup",[Vt,Cr,Rn]=pr(Pe),[In,Fr]=tt(Pe,[Rn]),[An,Vn]=In(Pe),Er=l.forwardRef((t,n)=>c.jsx(Vt.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(Vt.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(Pn,{...t,ref:n})})}));Er.displayName=Pe;var Pn=l.forwardRef((t,n)=>{const{__scopeRovingFocusGroup:e,orientation:r,loop:o=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:u,onEntryFocus:f,preventScrollOnEntryFocus:d=!1,...h}=t,m=l.useRef(null),v=B(n,m),g=ot(s),[p,S]=fe({prop:i,defaultProp:a??null,onChange:u,caller:Pe}),[y,b]=l.useState(!1),w=re(f),C=Cr(e),T=l.useRef(!1),[R,E]=l.useState(0);return l.useEffect(()=>{const M=m.current;if(M)return M.addEventListener(Ct,w),()=>M.removeEventListener(Ct,w)},[w]),c.jsx(An,{scope:e,orientation:r,dir:g,loop:o,currentTabStopId:p,onItemFocus:l.useCallback(M=>S(M),[S]),onItemShiftTab:l.useCallback(()=>b(!0),[]),onFocusableItemAdd:l.useCallback(()=>E(M=>M+1),[]),onFocusableItemRemove:l.useCallback(()=>E(M=>M-1),[]),children:c.jsx(N.div,{tabIndex:y||R===0?-1:0,"data-orientation":r,...h,ref:v,style:{outline:"none",...t.style},onMouseDown:A(t.onMouseDown,()=>{T.current=!0}),onFocus:A(t.onFocus,M=>{const x=!T.current;if(M.target===M.currentTarget&&x&&!y){const V=new CustomEvent(Ct,Tn);if(M.currentTarget.dispatchEvent(V),!V.defaultPrevented){const P=C().filter(_=>_.focusable),G=P.find(_=>_.active),K=P.find(_=>_.id===p),W=[G,K,...P].filter(Boolean).map(_=>_.ref.current);Rr(W,d)}}T.current=!1}),onBlur:A(t.onBlur,()=>b(!1))})})}),Mr="RovingFocusGroupItem",Tr=l.forwardRef((t,n)=>{const{__scopeRovingFocusGroup:e,focusable:r=!0,active:o=!1,tabStopId:s,children:i,...a}=t,u=rt(),f=s||u,d=Vn(Mr,e),h=d.currentTabStopId===f,m=Cr(e),{onFocusableItemAdd:v,onFocusableItemRemove:g,currentTabStopId:p}=d;return l.useEffect(()=>{if(r)return v(),()=>g()},[r,v,g]),c.jsx(Vt.ItemSlot,{scope:e,id:f,focusable:r,active:o,children:c.jsx(N.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:n,onMouseDown:A(t.onMouseDown,S=>{r?d.onItemFocus(f):S.preventDefault()}),onFocus:A(t.onFocus,()=>d.onItemFocus(f)),onKeyDown:A(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){d.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const y=jn(S,d.orientation,d.dir);if(y!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let w=m().filter(C=>C.focusable).map(C=>C.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const C=w.indexOf(S.currentTarget);w=d.loop?Dn(w,C+1):w.slice(C+1)}setTimeout(()=>Rr(w))}}),children:typeof i=="function"?i({isCurrentTabStop:h,hasTabStop:p!=null}):i})})});Tr.displayName=Mr;var _n={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Nn(t,n){return n!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function jn(t,n,e){const r=Nn(t.key,e);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return _n[r]}function Rr(t,n=!1){const e=document.activeElement;for(const r of t)if(r===e||(r.focus({preventScroll:n}),document.activeElement!==e))return}function Dn(t,n){return t.map((e,r)=>t[(n+r)%t.length])}var On=Er,Ln=Tr,kn="Label",Ir=l.forwardRef((t,n)=>c.jsx(N.label,{...t,ref:n,onMouseDown:e=>{e.target.closest("button, input, select, textarea")||(t.onMouseDown?.(e),!e.defaultPrevented&&e.detail>1&&e.preventDefault())}}));Ir.displayName=kn;var $n=Ir;function Pt(t,[n,e]){return Math.min(e,Math.max(n,t))}function Bn(t,n){return l.useReducer((e,r)=>n[e][r]??e,t)}var Wt="ScrollArea",[Ar,Ea]=tt(Wt),[Hn,X]=Ar(Wt),Vr=l.forwardRef((t,n)=>{const{__scopeScrollArea:e,type:r="hover",dir:o,scrollHideDelay:s=600,...i}=t,[a,u]=l.useState(null),[f,d]=l.useState(null),[h,m]=l.useState(null),[v,g]=l.useState(null),[p,S]=l.useState(null),[y,b]=l.useState(0),[w,C]=l.useState(0),[T,R]=l.useState(!1),[E,M]=l.useState(!1),x=B(n,P=>u(P)),V=ot(o);return c.jsx(Hn,{scope:e,type:r,dir:V,scrollHideDelay:s,scrollArea:a,viewport:f,onViewportChange:d,content:h,onContentChange:m,scrollbarX:v,onScrollbarXChange:g,scrollbarXEnabled:T,onScrollbarXEnabledChange:R,scrollbarY:p,onScrollbarYChange:S,scrollbarYEnabled:E,onScrollbarYEnabledChange:M,onCornerWidthChange:b,onCornerHeightChange:C,children:c.jsx(N.div,{dir:V,...i,ref:x,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});Vr.displayName=Wt;var Pr="ScrollAreaViewport",_r=l.forwardRef((t,n)=>{const{__scopeScrollArea:e,children:r,nonce:o,...s}=t,i=X(Pr,e),a=l.useRef(null),u=B(n,a,i.onViewportChange);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),c.jsx(N.div,{"data-radix-scroll-area-viewport":"",...s,ref:u,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t.style},children:c.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});_r.displayName=Pr;var te="ScrollAreaScrollbar",Nr=l.forwardRef((t,n)=>{const{forceMount:e,...r}=t,o=X(te,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:i}=o,a=t.orientation==="horizontal";return l.useEffect(()=>(a?s(!0):i(!0),()=>{a?s(!1):i(!1)}),[a,s,i]),o.type==="hover"?c.jsx(Wn,{...r,ref:n,forceMount:e}):o.type==="scroll"?c.jsx(zn,{...r,ref:n,forceMount:e}):o.type==="auto"?c.jsx(jr,{...r,ref:n,forceMount:e}):o.type==="always"?c.jsx(zt,{...r,ref:n}):null});Nr.displayName=te;var Wn=l.forwardRef((t,n)=>{const{forceMount:e,...r}=t,o=X(te,t.__scopeScrollArea),[s,i]=l.useState(!1);return l.useEffect(()=>{const a=o.scrollArea;let u=0;if(a){const f=()=>{window.clearTimeout(u),i(!0)},d=()=>{u=window.setTimeout(()=>i(!1),o.scrollHideDelay)};return a.addEventListener("pointerenter",f),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(u),a.removeEventListener("pointerenter",f),a.removeEventListener("pointerleave",d)}}},[o.scrollArea,o.scrollHideDelay]),c.jsx(nt,{present:e||s,children:c.jsx(jr,{"data-state":s?"visible":"hidden",...r,ref:n})})}),zn=l.forwardRef((t,n)=>{const{forceMount:e,...r}=t,o=X(te,t.__scopeScrollArea),s=t.orientation==="horizontal",i=lt(()=>u("SCROLL_END"),100),[a,u]=Bn("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return l.useEffect(()=>{if(a==="idle"){const f=window.setTimeout(()=>u("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(f)}},[a,o.scrollHideDelay,u]),l.useEffect(()=>{const f=o.viewport,d=s?"scrollLeft":"scrollTop";if(f){let h=f[d];const m=()=>{const v=f[d];h!==v&&(u("SCROLL"),i()),h=v};return f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[o.viewport,s,u,i]),c.jsx(nt,{present:e||a!=="hidden",children:c.jsx(zt,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:n,onPointerEnter:A(t.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:A(t.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),jr=l.forwardRef((t,n)=>{const e=X(te,t.__scopeScrollArea),{forceMount:r,...o}=t,[s,i]=l.useState(!1),a=t.orientation==="horizontal",u=lt(()=>{if(e.viewport){const f=e.viewport.offsetWidth<e.viewport.scrollWidth,d=e.viewport.offsetHeight<e.viewport.scrollHeight;i(a?f:d)}},10);return ye(e.viewport,u),ye(e.content,u),c.jsx(nt,{present:r||s,children:c.jsx(zt,{"data-state":s?"visible":"hidden",...o,ref:n})})}),zt=l.forwardRef((t,n)=>{const{orientation:e="vertical",...r}=t,o=X(te,t.__scopeScrollArea),s=l.useRef(null),i=l.useRef(0),[a,u]=l.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=kr(a.viewport,a.content),d={...r,sizes:a,onSizesChange:u,hasThumb:f>0&&f<1,onThumbChange:m=>s.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function h(m,v){return Zn(m,i.current,a,v)}return e==="horizontal"?c.jsx(Gn,{...d,ref:n,onThumbPositionChange:()=>{if(o.viewport&&s.current){const m=o.viewport.scrollLeft,v=rr(m,a,o.dir);s.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:m=>{o.viewport&&(o.viewport.scrollLeft=m)},onDragScroll:m=>{o.viewport&&(o.viewport.scrollLeft=h(m,o.dir))}}):e==="vertical"?c.jsx(Un,{...d,ref:n,onThumbPositionChange:()=>{if(o.viewport&&s.current){const m=o.viewport.scrollTop,v=rr(m,a);s.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:m=>{o.viewport&&(o.viewport.scrollTop=m)},onDragScroll:m=>{o.viewport&&(o.viewport.scrollTop=h(m))}}):null}),Gn=l.forwardRef((t,n)=>{const{sizes:e,onSizesChange:r,...o}=t,s=X(te,t.__scopeScrollArea),[i,a]=l.useState(),u=l.useRef(null),f=B(n,u,s.onScrollbarXChange);return l.useEffect(()=>{u.current&&a(getComputedStyle(u.current))},[u]),c.jsx(Or,{"data-orientation":"horizontal",...o,ref:f,sizes:e,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":at(e)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(s.viewport){const m=s.viewport.scrollLeft+d.deltaX;t.onWheelScroll(m),Br(m,h)&&d.preventDefault()}},onResize:()=>{u.current&&s.viewport&&i&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:Xe(i.paddingLeft),paddingEnd:Xe(i.paddingRight)}})}})}),Un=l.forwardRef((t,n)=>{const{sizes:e,onSizesChange:r,...o}=t,s=X(te,t.__scopeScrollArea),[i,a]=l.useState(),u=l.useRef(null),f=B(n,u,s.onScrollbarYChange);return l.useEffect(()=>{u.current&&a(getComputedStyle(u.current))},[u]),c.jsx(Or,{"data-orientation":"vertical",...o,ref:f,sizes:e,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":at(e)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(s.viewport){const m=s.viewport.scrollTop+d.deltaY;t.onWheelScroll(m),Br(m,h)&&d.preventDefault()}},onResize:()=>{u.current&&s.viewport&&i&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:Xe(i.paddingTop),paddingEnd:Xe(i.paddingBottom)}})}})}),[Kn,Dr]=Ar(te),Or=l.forwardRef((t,n)=>{const{__scopeScrollArea:e,sizes:r,hasThumb:o,onThumbChange:s,onThumbPointerUp:i,onThumbPointerDown:a,onThumbPositionChange:u,onDragScroll:f,onWheelScroll:d,onResize:h,...m}=t,v=X(te,e),[g,p]=l.useState(null),S=B(n,x=>p(x)),y=l.useRef(null),b=l.useRef(""),w=v.viewport,C=r.content-r.viewport,T=re(d),R=re(u),E=lt(h,10);function M(x){if(y.current){const V=x.clientX-y.current.left,P=x.clientY-y.current.top;f({x:V,y:P})}}return l.useEffect(()=>{const x=V=>{const P=V.target;g?.contains(P)&&T(V,C)};return document.addEventListener("wheel",x,{passive:!1}),()=>document.removeEventListener("wheel",x,{passive:!1})},[w,g,C,T]),l.useEffect(R,[r,R]),ye(g,E),ye(v.content,E),c.jsx(Kn,{scope:e,scrollbar:g,hasThumb:o,onThumbChange:re(s),onThumbPointerUp:re(i),onThumbPositionChange:R,onThumbPointerDown:re(a),children:c.jsx(N.div,{...m,ref:S,style:{position:"absolute",...m.style},onPointerDown:A(t.onPointerDown,x=>{x.button===0&&(x.target.setPointerCapture(x.pointerId),y.current=g.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),M(x))}),onPointerMove:A(t.onPointerMove,M),onPointerUp:A(t.onPointerUp,x=>{const V=x.target;V.hasPointerCapture(x.pointerId)&&V.releasePointerCapture(x.pointerId),document.body.style.webkitUserSelect=b.current,v.viewport&&(v.viewport.style.scrollBehavior=""),y.current=null})})})}),Ye="ScrollAreaThumb",Lr=l.forwardRef((t,n)=>{const{forceMount:e,...r}=t,o=Dr(Ye,t.__scopeScrollArea);return c.jsx(nt,{present:e||o.hasThumb,children:c.jsx(Yn,{ref:n,...r})})}),Yn=l.forwardRef((t,n)=>{const{__scopeScrollArea:e,style:r,...o}=t,s=X(Ye,e),i=Dr(Ye,e),{onThumbPositionChange:a}=i,u=B(n,h=>i.onThumbChange(h)),f=l.useRef(void 0),d=lt(()=>{f.current&&(f.current(),f.current=void 0)},100);return l.useEffect(()=>{const h=s.viewport;if(h){const m=()=>{if(d(),!f.current){const v=Jn(h,a);f.current=v,a()}};return a(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[s.viewport,d,a]),c.jsx(N.div,{"data-state":i.hasThumb?"visible":"hidden",...o,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:A(t.onPointerDownCapture,h=>{const v=h.target.getBoundingClientRect(),g=h.clientX-v.left,p=h.clientY-v.top;i.onThumbPointerDown({x:g,y:p})}),onPointerUp:A(t.onPointerUp,i.onThumbPointerUp)})});Lr.displayName=Ye;var Gt="ScrollAreaCorner",Xn=l.forwardRef((t,n)=>{const e=X(Gt,t.__scopeScrollArea),r=!!(e.scrollbarX&&e.scrollbarY);return e.type!=="scroll"&&r?c.jsx(qn,{...t,ref:n}):null});Xn.displayName=Gt;var qn=l.forwardRef((t,n)=>{const{__scopeScrollArea:e,...r}=t,o=X(Gt,e),[s,i]=l.useState(0),[a,u]=l.useState(0),f=!!(s&&a);return ye(o.scrollbarX,()=>{const d=o.scrollbarX?.offsetHeight||0;o.onCornerHeightChange(d),u(d)}),ye(o.scrollbarY,()=>{const d=o.scrollbarY?.offsetWidth||0;o.onCornerWidthChange(d),i(d)}),f?c.jsx(N.div,{...r,ref:n,style:{width:s,height:a,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Xe(t){return t?parseInt(t,10):0}function kr(t,n){const e=t/n;return isNaN(e)?0:e}function at(t){const n=kr(t.viewport,t.content),e=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-e)*n;return Math.max(r,18)}function Zn(t,n,e,r="ltr"){const o=at(e),s=o/2,i=n||s,a=o-i,u=e.scrollbar.paddingStart+i,f=e.scrollbar.size-e.scrollbar.paddingEnd-a,d=e.content-e.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return $r([u,f],h)(t)}function rr(t,n,e="ltr"){const r=at(n),o=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,s=n.scrollbar.size-o,i=n.content-n.viewport,a=s-r,u=e==="ltr"?[0,i]:[i*-1,0],f=Pt(t,u);return $r([0,i],[0,a])(f)}function $r(t,n){return e=>{if(t[0]===t[1]||n[0]===n[1])return n[0];const r=(n[1]-n[0])/(t[1]-t[0]);return n[0]+r*(e-t[0])}}function Br(t,n){return t>0&&t<n}var Jn=(t,n=()=>{})=>{let e={left:t.scrollLeft,top:t.scrollTop},r=0;return function o(){const s={left:t.scrollLeft,top:t.scrollTop},i=e.left!==s.left,a=e.top!==s.top;(i||a)&&n(),e=s,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)};function lt(t,n){const e=re(t),r=l.useRef(0);return l.useEffect(()=>()=>window.clearTimeout(r.current),[]),l.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(e,n)},[e,n])}function ye(t,n){const e=re(n);oe(()=>{let r=0;if(t){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(e)});return o.observe(t),()=>{window.cancelAnimationFrame(r),o.unobserve(t)}}},[t,e])}var Qn=Vr,es=_r,ts=Nr,rs=Lr,os=[" ","Enter","ArrowUp","ArrowDown"],ns=[" ","Enter"],he="Select",[ct,ut,ss]=pr(he),[we,Ma]=tt(he,[ss,vr]),dt=vr(),[is,ie]=we(he),[as,ls]=we(he),Hr=t=>{const{__scopeSelect:n,children:e,open:r,defaultOpen:o,onOpenChange:s,value:i,defaultValue:a,onValueChange:u,dir:f,name:d,autoComplete:h,disabled:m,required:v,form:g}=t,p=dt(n),[S,y]=l.useState(null),[b,w]=l.useState(null),[C,T]=l.useState(!1),R=ot(f),[E,M]=fe({prop:r,defaultProp:o??!1,onChange:s,caller:he}),[x,V]=fe({prop:i,defaultProp:a,onChange:u,caller:he}),P=l.useRef(null),G=S?g||!!S.closest("form"):!0,[K,H]=l.useState(new Set),W=Array.from(K).map(_=>_.props.value).join(";");return c.jsx(ko,{...p,children:c.jsxs(is,{required:v,scope:n,trigger:S,onTriggerChange:y,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:C,onValueNodeHasChildrenChange:T,contentId:rt(),value:x,onValueChange:V,open:E,onOpenChange:M,dir:R,triggerPointerDownPosRef:P,disabled:m,children:[c.jsx(ct.Provider,{scope:n,children:c.jsx(as,{scope:t.__scopeSelect,onNativeOptionAdd:l.useCallback(_=>{H(q=>new Set(q).add(_))},[]),onNativeOptionRemove:l.useCallback(_=>{H(q=>{const I=new Set(q);return I.delete(_),I})},[]),children:e})}),G?c.jsxs(fo,{"aria-hidden":!0,required:v,tabIndex:-1,name:d,autoComplete:h,value:x,onChange:_=>V(_.target.value),disabled:m,form:g,children:[x===void 0?c.jsx("option",{value:""}):null,Array.from(K)]},W):null]})})};Hr.displayName=he;var Wr="SelectTrigger",zr=l.forwardRef((t,n)=>{const{__scopeSelect:e,disabled:r=!1,...o}=t,s=dt(e),i=ie(Wr,e),a=i.disabled||r,u=B(n,i.onTriggerChange),f=ut(e),d=l.useRef("touch"),[h,m,v]=mo(p=>{const S=f().filter(w=>!w.disabled),y=S.find(w=>w.value===i.value),b=po(S,p,y);b!==void 0&&i.onValueChange(b.value)}),g=p=>{a||(i.onOpenChange(!0),v()),p&&(i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return c.jsx($o,{asChild:!0,...s,children:c.jsx(N.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":ho(i.value)?"":void 0,...o,ref:u,onClick:A(o.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:A(o.onPointerDown,p=>{d.current=p.pointerType;const S=p.target;S.hasPointerCapture(p.pointerId)&&S.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:A(o.onKeyDown,p=>{const S=h.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&m(p.key),!(S&&p.key===" ")&&os.includes(p.key)&&(g(),p.preventDefault())})})})});zr.displayName=Wr;var Gr="SelectValue",Ur=l.forwardRef((t,n)=>{const{__scopeSelect:e,className:r,style:o,children:s,placeholder:i="",...a}=t,u=ie(Gr,e),{onValueNodeHasChildrenChange:f}=u,d=s!==void 0,h=B(n,u.onValueNodeChange);return oe(()=>{f(d)},[f,d]),c.jsx(N.span,{...a,ref:h,style:{pointerEvents:"none"},children:ho(u.value)?c.jsx(c.Fragment,{children:i}):s})});Ur.displayName=Gr;var cs="SelectIcon",Kr=l.forwardRef((t,n)=>{const{__scopeSelect:e,children:r,...o}=t;return c.jsx(N.span,{"aria-hidden":!0,...o,ref:n,children:r||"â–¼"})});Kr.displayName=cs;var us="SelectPortal",Yr=t=>c.jsx(Bo,{asChild:!0,...t});Yr.displayName=us;var me="SelectContent",Xr=l.forwardRef((t,n)=>{const e=ie(me,t.__scopeSelect),[r,o]=l.useState();if(oe(()=>{o(new DocumentFragment)},[]),!e.open){const s=r;return s?gr.createPortal(c.jsx(qr,{scope:t.__scopeSelect,children:c.jsx(ct.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),s):null}return c.jsx(Zr,{...t,ref:n})});Xr.displayName=me;var Z=10,[qr,ae]=we(me),ds="SelectContentImpl",fs=Uo("SelectContent.RemoveScroll"),Zr=l.forwardRef((t,n)=>{const{__scopeSelect:e,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:s,onPointerDownOutside:i,side:a,sideOffset:u,align:f,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:v,sticky:g,hideWhenDetached:p,avoidCollisions:S,...y}=t,b=ie(me,e),[w,C]=l.useState(null),[T,R]=l.useState(null),E=B(n,F=>C(F)),[M,x]=l.useState(null),[V,P]=l.useState(null),G=ut(e),[K,H]=l.useState(!1),W=l.useRef(!1);l.useEffect(()=>{if(w)return Wo(w)},[w]),zo();const _=l.useCallback(F=>{const[k,...Y]=G().map($=>$.ref.current),[j]=Y.slice(-1),O=document.activeElement;for(const $ of F)if($===O||($?.scrollIntoView({block:"nearest"}),$===k&&T&&(T.scrollTop=0),$===j&&T&&(T.scrollTop=T.scrollHeight),$?.focus(),document.activeElement!==O))return},[G,T]),q=l.useCallback(()=>_([M,w]),[_,M,w]);l.useEffect(()=>{K&&q()},[K,q]);const{onOpenChange:I,triggerPointerDownPosRef:L}=b;l.useEffect(()=>{if(w){let F={x:0,y:0};const k=j=>{F={x:Math.abs(Math.round(j.pageX)-(L.current?.x??0)),y:Math.abs(Math.round(j.pageY)-(L.current?.y??0))}},Y=j=>{F.x<=10&&F.y<=10?j.preventDefault():w.contains(j.target)||I(!1),document.removeEventListener("pointermove",k),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",k),document.addEventListener("pointerup",Y,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",Y,{capture:!0})}}},[w,I,L]),l.useEffect(()=>{const F=()=>I(!1);return window.addEventListener("blur",F),window.addEventListener("resize",F),()=>{window.removeEventListener("blur",F),window.removeEventListener("resize",F)}},[I]);const[mt,Ne]=mo(F=>{const k=G().filter(O=>!O.disabled),Y=k.find(O=>O.ref.current===document.activeElement),j=po(k,F,Y);j&&setTimeout(()=>j.ref.current.focus())}),pt=l.useCallback((F,k,Y)=>{const j=!W.current&&!Y;(b.value!==void 0&&b.value===k||j)&&(x(F),j&&(W.current=!0))},[b.value]),vt=l.useCallback(()=>w?.focus(),[w]),pe=l.useCallback((F,k,Y)=>{const j=!W.current&&!Y;(b.value!==void 0&&b.value===k||j)&&P(F)},[b.value]),je=r==="popper"?_t:Jr,Ce=je===_t?{side:a,sideOffset:u,align:f,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:v,sticky:g,hideWhenDetached:p,avoidCollisions:S}:{};return c.jsx(qr,{scope:e,content:w,viewport:T,onViewportChange:R,itemRefCallback:pt,selectedItem:M,onItemLeave:vt,itemTextRefCallback:pe,focusSelectedItem:q,selectedItemText:V,position:r,isPositioned:K,searchRef:mt,children:c.jsx(Go,{as:fs,allowPinchZoom:!0,children:c.jsx(Ko,{asChild:!0,trapped:b.open,onMountAutoFocus:F=>{F.preventDefault()},onUnmountAutoFocus:A(o,F=>{b.trigger?.focus({preventScroll:!0}),F.preventDefault()}),children:c.jsx(Yo,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:F=>F.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:c.jsx(je,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:F=>F.preventDefault(),...y,...Ce,onPlaced:()=>H(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:A(y.onKeyDown,F=>{const k=F.ctrlKey||F.altKey||F.metaKey;if(F.key==="Tab"&&F.preventDefault(),!k&&F.key.length===1&&Ne(F.key),["ArrowUp","ArrowDown","Home","End"].includes(F.key)){let j=G().filter(O=>!O.disabled).map(O=>O.ref.current);if(["ArrowUp","End"].includes(F.key)&&(j=j.slice().reverse()),["ArrowUp","ArrowDown"].includes(F.key)){const O=F.target,$=j.indexOf(O);j=j.slice($+1)}setTimeout(()=>_(j)),F.preventDefault()}})})})})})})});Zr.displayName=ds;var hs="SelectItemAlignedPosition",Jr=l.forwardRef((t,n)=>{const{__scopeSelect:e,onPlaced:r,...o}=t,s=ie(me,e),i=ae(me,e),[a,u]=l.useState(null),[f,d]=l.useState(null),h=B(n,E=>d(E)),m=ut(e),v=l.useRef(!1),g=l.useRef(!0),{viewport:p,selectedItem:S,selectedItemText:y,focusSelectedItem:b}=i,w=l.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&f&&p&&S&&y){const E=s.trigger.getBoundingClientRect(),M=f.getBoundingClientRect(),x=s.valueNode.getBoundingClientRect(),V=y.getBoundingClientRect();if(s.dir!=="rtl"){const O=V.left-M.left,$=x.left-O,ce=E.left-$,ue=E.width+ce,gt=Math.max(ue,M.width),St=window.innerWidth-Z,bt=Pt($,[Z,Math.max(Z,St-gt)]);a.style.minWidth=ue+"px",a.style.left=bt+"px"}else{const O=M.right-V.right,$=window.innerWidth-x.right-O,ce=window.innerWidth-E.right-$,ue=E.width+ce,gt=Math.max(ue,M.width),St=window.innerWidth-Z,bt=Pt($,[Z,Math.max(Z,St-gt)]);a.style.minWidth=ue+"px",a.style.right=bt+"px"}const P=m(),G=window.innerHeight-Z*2,K=p.scrollHeight,H=window.getComputedStyle(f),W=parseInt(H.borderTopWidth,10),_=parseInt(H.paddingTop,10),q=parseInt(H.borderBottomWidth,10),I=parseInt(H.paddingBottom,10),L=W+_+K+I+q,mt=Math.min(S.offsetHeight*5,L),Ne=window.getComputedStyle(p),pt=parseInt(Ne.paddingTop,10),vt=parseInt(Ne.paddingBottom,10),pe=E.top+E.height/2-Z,je=G-pe,Ce=S.offsetHeight/2,F=S.offsetTop+Ce,k=W+_+F,Y=L-k;if(k<=pe){const O=P.length>0&&S===P[P.length-1].ref.current;a.style.bottom="0px";const $=f.clientHeight-p.offsetTop-p.offsetHeight,ce=Math.max(je,Ce+(O?vt:0)+$+q),ue=k+ce;a.style.height=ue+"px"}else{const O=P.length>0&&S===P[0].ref.current;a.style.top="0px";const ce=Math.max(pe,W+p.offsetTop+(O?pt:0)+Ce)+Y;a.style.height=ce+"px",p.scrollTop=k-pe+p.offsetTop}a.style.margin=`${Z}px 0`,a.style.minHeight=mt+"px",a.style.maxHeight=G+"px",r?.(),requestAnimationFrame(()=>v.current=!0)}},[m,s.trigger,s.valueNode,a,f,p,S,y,s.dir,r]);oe(()=>w(),[w]);const[C,T]=l.useState();oe(()=>{f&&T(window.getComputedStyle(f).zIndex)},[f]);const R=l.useCallback(E=>{E&&g.current===!0&&(w(),b?.(),g.current=!1)},[w,b]);return c.jsx(ps,{scope:e,contentWrapper:a,shouldExpandOnScrollRef:v,onScrollButtonChange:R,children:c.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:c.jsx(N.div,{...o,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});Jr.displayName=hs;var ms="SelectPopperPosition",_t=l.forwardRef((t,n)=>{const{__scopeSelect:e,align:r="start",collisionPadding:o=Z,...s}=t,i=dt(e);return c.jsx(Xo,{...i,...s,ref:n,align:r,collisionPadding:o,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});_t.displayName=ms;var[ps,Ut]=we(me,{}),Nt="SelectViewport",Qr=l.forwardRef((t,n)=>{const{__scopeSelect:e,nonce:r,...o}=t,s=ae(Nt,e),i=Ut(Nt,e),a=B(n,s.onViewportChange),u=l.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(ct.Slot,{scope:e,children:c.jsx(N.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:A(o.onScroll,f=>{const d=f.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=i;if(m?.current&&h){const v=Math.abs(u.current-d.scrollTop);if(v>0){const g=window.innerHeight-Z*2,p=parseFloat(h.style.minHeight),S=parseFloat(h.style.height),y=Math.max(p,S);if(y<g){const b=y+v,w=Math.min(g,b),C=b-w;h.style.height=w+"px",h.style.bottom==="0px"&&(d.scrollTop=C>0?C:0,h.style.justifyContent="flex-end")}}}u.current=d.scrollTop})})})]})});Qr.displayName=Nt;var eo="SelectGroup",[vs,gs]=we(eo),to=l.forwardRef((t,n)=>{const{__scopeSelect:e,...r}=t,o=rt();return c.jsx(vs,{scope:e,id:o,children:c.jsx(N.div,{role:"group","aria-labelledby":o,...r,ref:n})})});to.displayName=eo;var ro="SelectLabel",oo=l.forwardRef((t,n)=>{const{__scopeSelect:e,...r}=t,o=gs(ro,e);return c.jsx(N.div,{id:o.id,...r,ref:n})});oo.displayName=ro;var qe="SelectItem",[Ss,no]=we(qe),so=l.forwardRef((t,n)=>{const{__scopeSelect:e,value:r,disabled:o=!1,textValue:s,...i}=t,a=ie(qe,e),u=ae(qe,e),f=a.value===r,[d,h]=l.useState(s??""),[m,v]=l.useState(!1),g=B(n,b=>u.itemRefCallback?.(b,r,o)),p=rt(),S=l.useRef("touch"),y=()=>{o||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(Ss,{scope:e,value:r,disabled:o,textId:p,isSelected:f,onItemTextChange:l.useCallback(b=>{h(w=>w||(b?.textContent??"").trim())},[]),children:c.jsx(ct.ItemSlot,{scope:e,value:r,disabled:o,textValue:d,children:c.jsx(N.div,{role:"option","aria-labelledby":p,"data-highlighted":m?"":void 0,"aria-selected":f&&m,"data-state":f?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...i,ref:g,onFocus:A(i.onFocus,()=>v(!0)),onBlur:A(i.onBlur,()=>v(!1)),onClick:A(i.onClick,()=>{S.current!=="mouse"&&y()}),onPointerUp:A(i.onPointerUp,()=>{S.current==="mouse"&&y()}),onPointerDown:A(i.onPointerDown,b=>{S.current=b.pointerType}),onPointerMove:A(i.onPointerMove,b=>{S.current=b.pointerType,o?u.onItemLeave?.():S.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:A(i.onPointerLeave,b=>{b.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:A(i.onKeyDown,b=>{u.searchRef?.current!==""&&b.key===" "||(ns.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});so.displayName=qe;var Ee="SelectItemText",io=l.forwardRef((t,n)=>{const{__scopeSelect:e,className:r,style:o,...s}=t,i=ie(Ee,e),a=ae(Ee,e),u=no(Ee,e),f=ls(Ee,e),[d,h]=l.useState(null),m=B(n,y=>h(y),u.onItemTextChange,y=>a.itemTextRefCallback?.(y,u.value,u.disabled)),v=d?.textContent,g=l.useMemo(()=>c.jsx("option",{value:u.value,disabled:u.disabled,children:v},u.value),[u.disabled,u.value,v]),{onNativeOptionAdd:p,onNativeOptionRemove:S}=f;return oe(()=>(p(g),()=>S(g)),[p,S,g]),c.jsxs(c.Fragment,{children:[c.jsx(N.span,{id:u.textId,...s,ref:m}),u.isSelected&&i.valueNode&&!i.valueNodeHasChildren?gr.createPortal(s.children,i.valueNode):null]})});io.displayName=Ee;var ao="SelectItemIndicator",lo=l.forwardRef((t,n)=>{const{__scopeSelect:e,...r}=t;return no(ao,e).isSelected?c.jsx(N.span,{"aria-hidden":!0,...r,ref:n}):null});lo.displayName=ao;var jt="SelectScrollUpButton",bs=l.forwardRef((t,n)=>{const e=ae(jt,t.__scopeSelect),r=Ut(jt,t.__scopeSelect),[o,s]=l.useState(!1),i=B(n,r.onScrollButtonChange);return oe(()=>{if(e.viewport&&e.isPositioned){let a=function(){const f=u.scrollTop>0;s(f)};const u=e.viewport;return a(),u.addEventListener("scroll",a),()=>u.removeEventListener("scroll",a)}},[e.viewport,e.isPositioned]),o?c.jsx(co,{...t,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:u}=e;a&&u&&(a.scrollTop=a.scrollTop-u.offsetHeight)}}):null});bs.displayName=jt;var Dt="SelectScrollDownButton",ys=l.forwardRef((t,n)=>{const e=ae(Dt,t.__scopeSelect),r=Ut(Dt,t.__scopeSelect),[o,s]=l.useState(!1),i=B(n,r.onScrollButtonChange);return oe(()=>{if(e.viewport&&e.isPositioned){let a=function(){const f=u.scrollHeight-u.clientHeight,d=Math.ceil(u.scrollTop)<f;s(d)};const u=e.viewport;return a(),u.addEventListener("scroll",a),()=>u.removeEventListener("scroll",a)}},[e.viewport,e.isPositioned]),o?c.jsx(co,{...t,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:u}=e;a&&u&&(a.scrollTop=a.scrollTop+u.offsetHeight)}}):null});ys.displayName=Dt;var co=l.forwardRef((t,n)=>{const{__scopeSelect:e,onAutoScroll:r,...o}=t,s=ae("SelectScrollButton",e),i=l.useRef(null),a=ut(e),u=l.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return l.useEffect(()=>()=>u(),[u]),oe(()=>{a().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[a]),c.jsx(N.div,{"aria-hidden":!0,...o,ref:n,style:{flexShrink:0,...o.style},onPointerDown:A(o.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:A(o.onPointerMove,()=>{s.onItemLeave?.(),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:A(o.onPointerLeave,()=>{u()})})}),ws="SelectSeparator",uo=l.forwardRef((t,n)=>{const{__scopeSelect:e,...r}=t;return c.jsx(N.div,{"aria-hidden":!0,...r,ref:n})});uo.displayName=ws;var Ot="SelectArrow",xs=l.forwardRef((t,n)=>{const{__scopeSelect:e,...r}=t,o=dt(e),s=ie(Ot,e),i=ae(Ot,e);return s.open&&i.position==="popper"?c.jsx(qo,{...o,...r,ref:n}):null});xs.displayName=Ot;var Cs="SelectBubbleInput",fo=l.forwardRef(({__scopeSelect:t,value:n,...e},r)=>{const o=l.useRef(null),s=B(r,o),i=Mn(n);return l.useEffect(()=>{const a=o.current;if(!a)return;const u=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(u,"value").set;if(i!==n&&d){const h=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(h)}},[i,n]),c.jsx(N.select,{...e,style:{...Ho,...e.style},ref:s,defaultValue:n})});fo.displayName=Cs;function ho(t){return t===""||t===void 0}function mo(t){const n=re(t),e=l.useRef(""),r=l.useRef(0),o=l.useCallback(i=>{const a=e.current+i;n(a),function u(f){e.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>u(""),1e3))}(a)},[n]),s=l.useCallback(()=>{e.current="",window.clearTimeout(r.current)},[]);return l.useEffect(()=>()=>window.clearTimeout(r.current),[]),[e,o,s]}function po(t,n,e){const o=n.length>1&&Array.from(n).every(f=>f===n[0])?n[0]:n,s=e?t.indexOf(e):-1;let i=Fs(t,Math.max(s,0));o.length===1&&(i=i.filter(f=>f!==e));const u=i.find(f=>f.textValue.toLowerCase().startsWith(o.toLowerCase()));return u!==e?u:void 0}function Fs(t,n){return t.map((e,r)=>t[(n+r)%t.length])}var Es=Hr,Ms=zr,Ts=Ur,Rs=Kr,Is=Yr,As=Xr,Vs=Qr,Ps=to,_s=oo,Ns=so,js=io,Ds=lo,Os=uo,vo="Toggle",go=l.forwardRef((t,n)=>{const{pressed:e,defaultPressed:r,onPressedChange:o,...s}=t,[i,a]=fe({prop:e,onChange:o,defaultProp:r??!1,caller:vo});return c.jsx(N.button,{type:"button","aria-pressed":i,"data-state":i?"on":"off","data-disabled":t.disabled?"":void 0,...s,ref:n,onClick:A(t.onClick,()=>{t.disabled||a(!i)})})});go.displayName=vo;var le="ToggleGroup",[So,Ta]=tt(le,[Fr]),bo=Fr(),Kt=D.forwardRef((t,n)=>{const{type:e,...r}=t;if(e==="single"){const o=r;return c.jsx(Ls,{...o,ref:n})}if(e==="multiple"){const o=r;return c.jsx(ks,{...o,ref:n})}throw new Error(`Missing prop \`type\` expected on \`${le}\``)});Kt.displayName=le;var[yo,wo]=So(le),Ls=D.forwardRef((t,n)=>{const{value:e,defaultValue:r,onValueChange:o=()=>{},...s}=t,[i,a]=fe({prop:e,defaultProp:r??"",onChange:o,caller:le});return c.jsx(yo,{scope:t.__scopeToggleGroup,type:"single",value:D.useMemo(()=>i?[i]:[],[i]),onItemActivate:a,onItemDeactivate:D.useCallback(()=>a(""),[a]),children:c.jsx(xo,{...s,ref:n})})}),ks=D.forwardRef((t,n)=>{const{value:e,defaultValue:r,onValueChange:o=()=>{},...s}=t,[i,a]=fe({prop:e,defaultProp:r??[],onChange:o,caller:le}),u=D.useCallback(d=>a((h=[])=>[...h,d]),[a]),f=D.useCallback(d=>a((h=[])=>h.filter(m=>m!==d)),[a]);return c.jsx(yo,{scope:t.__scopeToggleGroup,type:"multiple",value:i,onItemActivate:u,onItemDeactivate:f,children:c.jsx(xo,{...s,ref:n})})});Kt.displayName=le;var[$s,Bs]=So(le),xo=D.forwardRef((t,n)=>{const{__scopeToggleGroup:e,disabled:r=!1,rovingFocus:o=!0,orientation:s,dir:i,loop:a=!0,...u}=t,f=bo(e),d=ot(i),h={role:"group",dir:d,...u};return c.jsx($s,{scope:e,rovingFocus:o,disabled:r,children:o?c.jsx(On,{asChild:!0,...f,orientation:s,dir:d,loop:a,children:c.jsx(N.div,{...h,ref:n})}):c.jsx(N.div,{...h,ref:n})})}),Ze="ToggleGroupItem",Co=D.forwardRef((t,n)=>{const e=wo(Ze,t.__scopeToggleGroup),r=Bs(Ze,t.__scopeToggleGroup),o=bo(t.__scopeToggleGroup),s=e.value.includes(t.value),i=r.disabled||t.disabled,a={...t,pressed:s,disabled:i},u=D.useRef(null);return r.rovingFocus?c.jsx(Ln,{asChild:!0,...o,focusable:!i,active:s,ref:u,children:c.jsx(or,{...a,ref:n})}):c.jsx(or,{...a,ref:n})});Co.displayName=Ze;var or=D.forwardRef((t,n)=>{const{__scopeToggleGroup:e,value:r,...o}=t,s=wo(Ze,e),i={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},a=s.type==="single"?i:void 0;return c.jsx(go,{...a,...o,ref:n,onPressedChange:u=>{u?s.onItemActivate(r):s.onItemDeactivate(r)}})}),Hs=Kt,Ws=Co;function zs(t,n){const{asChild:e,children:r}=t;if(!e)return typeof n=="function"?n(r):n;const o=l.Children.only(r);return l.cloneElement(o,{children:typeof n=="function"?n(o.props.children):n})}const Gs=D.forwardRef((t,n)=>D.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...t,ref:n},D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.75 4.5C0.75 4.08579 1.08579 3.75 1.5 3.75H7.5C7.91421 3.75 8.25 4.08579 8.25 4.5C8.25 4.91421 7.91421 5.25 7.5 5.25H1.5C1.08579 5.25 0.75 4.91421 0.75 4.5Z"})));Gs.displayName="ThickDividerHorizontalIcon";const Fo=D.forwardRef((t,n)=>D.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...t,ref:n},D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.53547 0.62293C8.88226 0.849446 8.97976 1.3142 8.75325 1.66099L4.5083 8.1599C4.38833 8.34356 4.19397 8.4655 3.9764 8.49358C3.75883 8.52167 3.53987 8.45309 3.3772 8.30591L0.616113 5.80777C0.308959 5.52987 0.285246 5.05559 0.563148 4.74844C0.84105 4.44128 1.31533 4.41757 1.62249 4.69547L3.73256 6.60459L7.49741 0.840706C7.72393 0.493916 8.18868 0.396414 8.53547 0.62293Z"})));Fo.displayName="ThickCheckIcon";const Eo=D.forwardRef((t,n)=>D.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...t,ref:n},D.createElement("path",{d:"M0.135232 3.15803C0.324102 2.95657 0.640521 2.94637 0.841971 3.13523L4.5 6.56464L8.158 3.13523C8.3595 2.94637 8.6759 2.95657 8.8648 3.15803C9.0536 3.35949 9.0434 3.67591 8.842 3.86477L4.84197 7.6148C4.64964 7.7951 4.35036 7.7951 4.15803 7.6148L0.158031 3.86477C-0.0434285 3.67591 -0.0536285 3.35949 0.135232 3.15803Z"})));Eo.displayName="ChevronDownIcon";const Us=D.forwardRef((t,n)=>D.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...t,ref:n},D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.23826 0.201711C3.54108 -0.0809141 4.01567 -0.0645489 4.29829 0.238264L7.79829 3.98826C8.06724 4.27642 8.06724 4.72359 7.79829 5.01174L4.29829 8.76174C4.01567 9.06455 3.54108 9.08092 3.23826 8.79829C2.93545 8.51567 2.91909 8.04108 3.20171 7.73826L6.22409 4.5L3.20171 1.26174C2.91909 0.958928 2.93545 0.484337 3.23826 0.201711Z"})));Us.displayName="ThickChevronRightIcon";const Ks=["1","2","3","4"],Ys=["none","initial"],Xs=["left","center","right"],qs={...Sr,size:{type:"enum",className:"rt-r-size",values:Ks,default:"4",responsive:!0},display:{type:"enum",className:"rt-r-display",values:Ys,parseValue:Zs,responsive:!0},align:{type:"enum",className:"rt-r-ai",values:Xs,parseValue:Js,responsive:!0}};function Zs(t){return t==="initial"?"flex":t}function Js(t){return t==="left"?"start":t==="right"?"end":t}const Mo=l.forwardRef(({width:t,minWidth:n,maxWidth:e,height:r,minHeight:o,maxHeight:s,...i},a)=>{const{asChild:u,children:f,className:d,...h}=ne(i,qs,Zo,Ae),{className:m,style:v}=ne({width:t,minWidth:n,maxWidth:e,height:r,minHeight:o,maxHeight:s},Qo,Jo),g=u?br:"div";return l.createElement(g,{...h,ref:a,className:U("rt-Container",d)},zs({asChild:u,children:f},p=>l.createElement("div",{className:U("rt-ContainerInner",m),style:v},p)))});Mo.displayName="Container";const Qs=["1","2","3"],ei=["surface","classic"],ti={disabled:{type:"boolean",className:"disabled",default:!1},size:{type:"enum",className:"rt-r-size",values:Qs,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:ei,default:"surface"},...st},To=l.forwardRef((t,n)=>{const{className:e,children:r,radius:o,value:s,defaultValue:i,onValueChange:a,...u}=ne(t,ti,Ae),[f,d]=fe({prop:s,onChange:a,defaultProp:i});return l.createElement(Hs,{"data-disabled":t.disabled||void 0,"data-radius":o,ref:n,className:U("rt-SegmentedControlRoot",e),onValueChange:h=>{h&&d(h)},...u,type:"single",value:f,asChild:!1,disabled:!!t.disabled},r,l.createElement("div",{className:"rt-SegmentedControlIndicator"}))});To.displayName="SegmentedControl.Root";const We=l.forwardRef(({children:t,className:n,...e},r)=>l.createElement(Ws,{ref:r,className:U("rt-reset","rt-SegmentedControlItem",n),...e,disabled:!1,asChild:!1},l.createElement("span",{className:"rt-SegmentedControlItemSeparator"}),l.createElement("span",{className:"rt-SegmentedControlItemLabel"},l.createElement("span",{className:"rt-SegmentedControlItemLabelActive"},t),l.createElement("span",{className:"rt-SegmentedControlItemLabelInactive","aria-hidden":!0},t))));We.displayName="SegmentedControl.Item";const ri=["1","2","3"],Yt={size:{type:"enum",className:"rt-r-size",values:ri,default:"2",responsive:!0}},oi=["classic","surface","soft","ghost"],ni={variant:{type:"enum",className:"rt-variant",values:oi,default:"surface"},...Ve,...st,placeholder:{type:"string"}},si=["solid","soft"],ii={variant:{type:"enum",className:"rt-variant",values:si,default:"solid"},...Ve,...en},Xt=l.createContext({}),Ro=t=>{const{children:n,size:e=Yt.size.default,...r}=t;return l.createElement(Es,{...r},l.createElement(Xt.Provider,{value:l.useMemo(()=>({size:e}),[e])},n))};Ro.displayName="Select.Root";const Io=l.forwardRef((t,n)=>{const e=l.useContext(Xt),{children:r,className:o,color:s,radius:i,placeholder:a,...u}=ne({size:e?.size,...t},{size:Yt.size},ni,Ae);return l.createElement(Ms,{asChild:!0},l.createElement("button",{"data-accent-color":s,"data-radius":i,...u,ref:n,className:U("rt-reset","rt-SelectTrigger",o)},l.createElement("span",{className:"rt-SelectTriggerInner"},l.createElement(Ts,{placeholder:a},r)),l.createElement(Rs,{asChild:!0},l.createElement(Eo,{className:"rt-SelectIcon"}))))});Io.displayName="Select.Trigger";const Ao=l.forwardRef((t,n)=>{const e=l.useContext(Xt),{className:r,children:o,color:s,container:i,...a}=ne({size:e?.size,...t},{size:Yt.size},ii),u=tn(),f=s||u.accentColor;return l.createElement(Is,{container:i},l.createElement(yr,{asChild:!0},l.createElement(As,{"data-accent-color":f,sideOffset:4,...a,asChild:!1,ref:n,className:U({"rt-PopperContent":a.position==="popper"},"rt-SelectContent",r)},l.createElement(Qn,{type:"auto",className:"rt-ScrollAreaRoot"},l.createElement(Vs,{asChild:!0,className:"rt-SelectViewport"},l.createElement(es,{className:"rt-ScrollAreaViewport",style:{overflowY:void 0}},o)),l.createElement(ts,{className:"rt-ScrollAreaScrollbar rt-r-size-1",orientation:"vertical"},l.createElement(rs,{className:"rt-ScrollAreaThumb"}))))))});Ao.displayName="Select.Content";const Vo=l.forwardRef((t,n)=>{const{className:e,children:r,...o}=t;return l.createElement(Ns,{...o,asChild:!1,ref:n,className:U("rt-SelectItem",e)},l.createElement(Ds,{className:"rt-SelectItemIndicator"},l.createElement(Fo,{className:"rt-SelectItemIndicatorIcon"})),l.createElement(js,null,r))});Vo.displayName="Select.Item";const ai=l.forwardRef(({className:t,...n},e)=>l.createElement(Ps,{...n,asChild:!1,ref:e,className:U("rt-SelectGroup",t)}));ai.displayName="Select.Group";const li=l.forwardRef(({className:t,...n},e)=>l.createElement(_s,{...n,asChild:!1,ref:e,className:U("rt-SelectLabel",t)}));li.displayName="Select.Label";const ci=l.forwardRef(({className:t,...n},e)=>l.createElement(Os,{...n,asChild:!1,ref:e,className:U("rt-SelectSeparator",t)}));ci.displayName="Select.Separator";const ui={...Sr,...on,...rn},ze=l.forwardRef((t,n)=>{const{asChild:e,className:r,...o}=ne(t,ui),s=e?br:"strong";return l.createElement(s,{...o,ref:n,className:U("rt-Strong",r)})});ze.displayName="Strong";const di=["1","2","3"],fi=["classic","surface","soft"],hi=["none","vertical","horizontal","both"],mi={size:{type:"enum",className:"rt-r-size",values:di,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:fi,default:"surface"},resize:{type:"enum",className:"rt-r-resize",values:hi,responsive:!0},...Ve,...st},Po=l.forwardRef((t,n)=>{const{className:e,color:r,radius:o,style:s,...i}=ne(t,mi,Ae);return l.createElement("div",{"data-accent-color":r,"data-radius":o,className:U("rt-TextAreaRoot",e),style:s},l.createElement("textarea",{className:"rt-reset rt-TextAreaInput",ref:n,...i}))});Po.displayName="TextArea";const pi=["1","2","3"],vi=["classic","surface","soft"],gi={size:{type:"enum",className:"rt-r-size",values:pi,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:vi,default:"surface"},...Ve,...st},Si=["left","right"],bi={side:{type:"enum",values:Si},...Ve,gap:nn.gap,px:yt.px,pl:yt.pl,pr:yt.pr},_o=l.forwardRef((t,n)=>{const e=l.useRef(null),{children:r,className:o,color:s,radius:i,style:a,...u}=ne(t,gi,Ae);return l.createElement("div",{"data-accent-color":s,"data-radius":i,style:a,className:U("rt-TextFieldRoot",o),onPointerDown:f=>{const d=f.target;if(d.closest("input, button, a"))return;const h=e.current;if(!h)return;const m=d.closest(`
            .rt-TextFieldSlot[data-side='right'],
            .rt-TextFieldSlot:not([data-side='right']) ~ .rt-TextFieldSlot:not([data-side='left'])
          `)?h.value.length:0;requestAnimationFrame(()=>{try{h.setSelectionRange(m,m)}catch{}h.focus()})}},l.createElement("input",{spellCheck:"false",...u,ref:sn(e,n),className:"rt-reset rt-TextFieldInput"}),r)});_o.displayName="TextField.Root";const yi=l.forwardRef((t,n)=>{const{className:e,color:r,side:o,...s}=ne(t,bi);return l.createElement("div",{"data-accent-color":r,"data-side":o,...s,ref:n,className:U("rt-TextFieldSlot",e)})});yi.displayName="TextField.Slot";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function e(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=e(o);fetch(o.href,s)}})();const wi=l.createContext(null),Ft={didCatch:!1,error:null};class xi extends l.Component{constructor(n){super(n),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=Ft}static getDerivedStateFromError(n){return{didCatch:!0,error:n}}resetErrorBoundary(){const{error:n}=this.state;if(n!==null){for(var e,r,o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];(e=(r=this.props).onReset)===null||e===void 0||e.call(r,{args:s,reason:"imperative-api"}),this.setState(Ft)}}componentDidCatch(n,e){var r,o;(r=(o=this.props).onError)===null||r===void 0||r.call(o,n,e)}componentDidUpdate(n,e){const{didCatch:r}=this.state,{resetKeys:o}=this.props;if(r&&e.error!==null&&Ci(n.resetKeys,o)){var s,i;(s=(i=this.props).onReset)===null||s===void 0||s.call(i,{next:o,prev:n.resetKeys,reason:"keys"}),this.setState(Ft)}}render(){const{children:n,fallbackRender:e,FallbackComponent:r,fallback:o}=this.props,{didCatch:s,error:i}=this.state;let a=n;if(s){const u={error:i,resetErrorBoundary:this.resetErrorBoundary};if(typeof e=="function")a=e(u);else if(r)a=l.createElement(r,u);else if(o!==void 0)a=o;else throw i}return l.createElement(wi.Provider,{value:{didCatch:s,error:i,resetErrorBoundary:this.resetErrorBoundary}},a)}}function Ci(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return t.length!==n.length||t.some((e,r)=>!Object.is(e,n[r]))}const Fi=({title:t,titleId:n,...e},r)=>l.createElement("svg",{width:15,height:15,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:r,"aria-labelledby":n,...e},t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M6.04995 2.74998C6.04995 2.44623 5.80371 2.19998 5.49995 2.19998C5.19619 2.19998 4.94995 2.44623 4.94995 2.74998V12.25C4.94995 12.5537 5.19619 12.8 5.49995 12.8C5.80371 12.8 6.04995 12.5537 6.04995 12.25V2.74998ZM10.05 2.74998C10.05 2.44623 9.80371 2.19998 9.49995 2.19998C9.19619 2.19998 8.94995 2.44623 8.94995 2.74998V12.25C8.94995 12.5537 9.19619 12.8 9.49995 12.8C9.80371 12.8 10.05 12.5537 10.05 12.25V2.74998Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})),Ei=l.forwardRef(Fi),Mi=({title:t,titleId:n,...e},r)=>l.createElement("svg",{width:15,height:15,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:r,"aria-labelledby":n,...e},t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M3.24182 2.32181C3.3919 2.23132 3.5784 2.22601 3.73338 2.30781L12.7334 7.05781C12.8974 7.14436 13 7.31457 13 7.5C13 7.68543 12.8974 7.85564 12.7334 7.94219L3.73338 12.6922C3.5784 12.774 3.3919 12.7687 3.24182 12.6782C3.09175 12.5877 3 12.4252 3 12.25V2.75C3 2.57476 3.09175 2.4123 3.24182 2.32181ZM4 3.57925V11.4207L11.4288 7.5L4 3.57925Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})),Ti=l.forwardRef(Mi),Et={},Mt=t=>t.count?c.jsxs("span",{children:["(",t.count,")"]}):null,Ri=({ruleCount:t,allPaused:n,onDeleteAllRules:e,onPauseAllRules:r,onResumeAllRules:o})=>c.jsx(J,{p:"1",children:c.jsxs(z,{justify:"between",flexGrow:"1",width:"100%",children:[n?c.jsxs(ve,{radius:"full",type:"button",disabled:!t,size:"2",className:Et.ResumeAllRules,color:"green",onClick:o,children:[c.jsx(Ti,{}),"Resume",c.jsx(Mt,{count:t})]}):c.jsxs(ve,{radius:"full",type:"button",disabled:!t,size:"2",className:Et.PauseAllRules,color:"blue",onClick:r,children:[c.jsx(Ei,{}),"Pause",c.jsx(Mt,{count:t})]}),c.jsxs(an,{children:[c.jsx(ln,{children:c.jsxs(ve,{disabled:!t,size:"2",className:Et.DeleteAllRules,color:"red",children:[c.jsx(cn,{}),"Delete",c.jsx(Mt,{count:t})]})}),c.jsxs(un,{children:[c.jsx(dn,{children:"Delete all rules forever?"}),c.jsx(fn,{children:"You can also just pause all rules"}),c.jsxs(z,{p:"3",justify:"between",children:[c.jsx(hn,{children:c.jsx(ve,{radius:"small",variant:"soft",color:"gray",children:"Exit"})}),c.jsx(mn,{onClick:e,children:c.jsx(ve,{onClick:e,radius:"small",color:"red",children:"Delete"})})]})]})]})]})}),Se=new WeakMap,Ge=new WeakMap,Je={current:[]};let Tt=!1,Te=0;const Me=new Set,Oe=new Map;function No(t){const n=Array.from(t).sort((e,r)=>e instanceof ee&&e.options.deps.includes(r)?1:r instanceof ee&&r.options.deps.includes(e)?-1:0);for(const e of n){if(Je.current.includes(e))continue;Je.current.push(e),e.recompute();const r=Ge.get(e);if(r)for(const o of r){const s=Se.get(o);s&&No(s)}}}function Ii(t){t.listeners.forEach(n=>n({prevVal:t.prevState,currentVal:t.state}))}function Ai(t){t.listeners.forEach(n=>n({prevVal:t.prevState,currentVal:t.state}))}function jo(t){if(Te>0&&!Oe.has(t)&&Oe.set(t,t.prevState),Me.add(t),!(Te>0)&&!Tt)try{for(Tt=!0;Me.size>0;){const n=Array.from(Me);Me.clear();for(const e of n){const r=Oe.get(e)??e.prevState;e.prevState=r,Ii(e)}for(const e of n){const r=Se.get(e);r&&(Je.current.push(e),No(r))}for(const e of n){const r=Se.get(e);if(r)for(const o of r)Ai(o)}}}finally{Tt=!1,Je.current=[],Oe.clear()}}function Q(t){Te++;try{t()}finally{if(Te--,Te===0){const n=Array.from(Me)[0];n&&jo(n)}}}function Vi(t){return typeof t=="function"}class Lt{constructor(n,e){this.listeners=new Set,this.subscribe=r=>{var o,s;this.listeners.add(r);const i=(s=(o=this.options)==null?void 0:o.onSubscribe)==null?void 0:s.call(o,r,this);return()=>{this.listeners.delete(r),i?.()}},this.prevState=n,this.state=n,this.options=e}setState(n){var e,r,o;this.prevState=this.state,(e=this.options)!=null&&e.updateFn?this.state=this.options.updateFn(this.prevState)(n):Vi(n)?this.state=n(this.prevState):this.state=n,(o=(r=this.options)==null?void 0:r.onUpdate)==null||o.call(r),jo(this)}}class ee{constructor(n){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const e=[],r=[];for(const o of this.options.deps)e.push(o.prevState),r.push(o.state);return this.lastSeenDepValues=r,{prevDepVals:e,currDepVals:r,prevVal:this.prevState??void 0}},this.recompute=()=>{var e,r;this.prevState=this.state;const{prevDepVals:o,currDepVals:s,prevVal:i}=this.getDepVals();this.state=this.options.fn({prevDepVals:o,currDepVals:s,prevVal:i}),(r=(e=this.options).onUpdate)==null||r.call(e)},this.checkIfRecalculationNeededDeeply=()=>{for(const s of this.options.deps)s instanceof ee&&s.checkIfRecalculationNeededDeeply();let e=!1;const r=this.lastSeenDepValues,{currDepVals:o}=this.getDepVals();for(let s=0;s<o.length;s++)if(o[s]!==r[s]){e=!0;break}e&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const e of this._subscriptions)e()}),this.subscribe=e=>{var r,o;this.listeners.add(e);const s=(o=(r=this.options).onSubscribe)==null?void 0:o.call(r,e,this);return()=>{this.listeners.delete(e),s?.()}},this.options=n,this.state=n.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(n=this.options.deps){for(const e of n)if(e instanceof ee)e.registerOnGraph(),this.registerOnGraph(e.options.deps);else if(e instanceof Lt){let r=Se.get(e);r||(r=new Set,Se.set(e,r)),r.add(this);let o=Ge.get(this);o||(o=new Set,Ge.set(this,o)),o.add(e)}}unregisterFromGraph(n=this.options.deps){for(const e of n)if(e instanceof ee)this.unregisterFromGraph(e.options.deps);else if(e instanceof Lt){const r=Se.get(e);r&&r.delete(this);const o=Ge.get(this);o&&o.delete(e)}}}function _e(t,n){return typeof t=="function"?t(n):t}function de(t,n){return ft(n).reduce((r,o)=>{if(r===null)return null;if(typeof r<"u")return r[o]},t)}function Le(t,n,e){const r=ft(n);function o(s){if(!r.length)return _e(e,s);const i=r.shift();if(typeof i=="string"||typeof i=="number"&&!Array.isArray(s))return typeof s=="object"?(s===null&&(s={}),{...s,[i]:o(s[i])}):{[i]:o()};if(Array.isArray(s)&&typeof i=="number"){const a=s.slice(0,i);return[...a.length?a:new Array(i),o(s[i]),...s.slice(i+1)]}return[...new Array(i),o()]}return o(t)}function Pi(t,n){const e=ft(n);function r(o){if(!o)return;if(e.length===1){const i=e[0];if(Array.isArray(o)&&typeof i=="number")return o.filter((f,d)=>d!==i);const{[i]:a,...u}=o;return u}const s=e.shift();if(typeof s=="string"&&typeof o=="object")return{...o,[s]:r(o[s])};if(typeof s=="number"&&Array.isArray(o)){if(s>=o.length)return o;const i=o.slice(0,s);return[...i.length?i:new Array(s),r(o[s]),...o.slice(s+1)]}throw new Error("It seems we have created an infinite loop in deleteBy. ")}return r(t)}const _i=/^(\d+)$/gm,Ni=/\.(\d+)(?=\.)/gm,ji=/^(\d+)\./gm,Di=/\.(\d+$)/gm,Oi=/\.{2,}/gm,kt="__int__",ke=`${kt}$1`;function ft(t){if(Array.isArray(t))return[...t];if(typeof t!="string")throw new Error("Path must be a string.");return t.replace(/(^\[)|]/gm,"").replace(/\[/g,".").replace(_i,ke).replace(Ni,`.${ke}.`).replace(ji,`${ke}.`).replace(Di,`.${ke}`).replace(Oi,".").split(".").map(n=>{if(n.startsWith(kt)){const e=n.substring(kt.length),r=parseInt(e,10);return String(r)===e?r:e}return n})}function nr(t,n){return t.length===0?n:n.length===0?t:n.startsWith("[")?t+n:`${t}.${n}`}function Li(t){return!(Array.isArray(t)&&t.length===0)}function $t(t,n){const{asyncDebounceMs:e}=n,{onChangeAsync:r,onBlurAsync:o,onSubmitAsync:s,onBlurAsyncDebounceMs:i,onChangeAsyncDebounceMs:a}=n.validators||{},u=e??0,f={cause:"change",validate:r,debounceMs:a??u},d={cause:"blur",validate:o,debounceMs:i??u},h={cause:"submit",validate:s,debounceMs:0},m=v=>({...v,debounceMs:0});switch(t){case"submit":return[m(f),m(d),h];case"blur":return[d];case"change":return[f];case"server":default:return[]}}function Bt(t,n){const{onChange:e,onBlur:r,onSubmit:o,onMount:s}=n.validators||{},i={cause:"change",validate:e},a={cause:"blur",validate:r},u={cause:"submit",validate:o},f={cause:"mount",validate:s},d={cause:"server",validate:()=>{}};switch(t){case"mount":return[f];case"submit":return[i,a,u,d];case"server":return[d];case"blur":return[a,d];case"change":default:return[i,d]}}const Ht=t=>!!t&&typeof t=="object"&&"fields"in t;function ge(t,n){if(Object.is(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(const[o,s]of t)if(!n.has(o)||!Object.is(s,n.get(o)))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(const o of t)if(!n.has(o))return!1;return!0}const e=Object.keys(t),r=Object.keys(n);if(e.length!==r.length)return!1;for(const o of e)if(!r.includes(o)||!ge(t[o],n[o]))return!1;return!0}const sr=({newFormValidatorError:t,isPreviousErrorFromFormValidator:n,previousErrorValue:e})=>t?{newErrorValue:t,newSource:"form"}:n?{newErrorValue:void 0,newSource:void 0}:e?{newErrorValue:e,newSource:"field"}:{newErrorValue:void 0,newSource:void 0},ir=({formLevelError:t,fieldLevelError:n})=>n?{newErrorValue:n,newSource:"field"}:t?{newErrorValue:t,newSource:"form"}:{newErrorValue:void 0,newSource:void 0};function ki(t){const n=new Map;for(const e of t){const r=[...e.path??[]].map(o=>{const s=typeof o=="object"?o.key:o;return typeof s=="number"?`[${s}]`:s}).join(".").replace(/\.\[/g,"[");n.set(r,(n.get(r)??[]).concat(e))}return Object.fromEntries(n)}const ar=t=>{const n=ki(t);return{form:n,fields:n}},be={validate({value:t,validationSource:n},e){const r=e["~standard"].validate(t);if(r instanceof Promise)throw new Error("async function passed to sync validator");if(r.issues)return n==="field"?r.issues:ar(r.issues)},async validateAsync({value:t,validationSource:n},e){const r=await e["~standard"].validate(t);if(r.issues)return n==="field"?r.issues:ar(r.issues)}},Do=t=>!!t&&"~standard"in t,Qe={isValidating:!1,isTouched:!1,isBlurred:!1,isDirty:!1,isPristine:!0,isValid:!0,isDefaultValue:!0,errors:[],errorMap:{},errorSourceMap:{}};function $e(t){function n(h,m,v,g){const p=r(h,m,v,g);({insert:()=>a(p,h,m),remove:()=>u(p),swap:()=>g!==void 0&&d(p,h,m,g),move:()=>g!==void 0&&f(p,h,m,g)})[v]()}function e(h,m){return`${h}[${m}]`}function r(h,m,v,g){const p=[e(h,m)];if(v==="swap")p.push(e(h,g));else if(v==="move"){const[S,y]=[Math.min(m,g),Math.max(m,g)];for(let b=S;b<=y;b++)p.push(e(h,b))}else{const S=t.getFieldValue(h),y=Array.isArray(S)?S.length:0;for(let b=m+1;b<y;b++)p.push(e(h,b))}return Object.keys(t.fieldInfo).filter(S=>p.some(y=>S.startsWith(y)))}function o(h,m){return h.replace(/\[(\d+)\]/,(v,g)=>{const p=parseInt(g,10);return`[${m==="up"?p+1:Math.max(0,p-1)}]`})}function s(h,m){(m==="up"?h:[...h].reverse()).forEach(g=>{const p=o(g.toString(),m),S=t.getFieldMeta(p);S?t.setFieldMeta(g,S):t.setFieldMeta(g,i())})}const i=()=>Qe,a=(h,m,v)=>{s(h,"down"),h.forEach(g=>{g.toString().startsWith(e(m,v))&&t.setFieldMeta(g,i())})},u=h=>{s(h,"up")},f=(h,m,v,g)=>{const p=new Map(Object.keys(t.fieldInfo).filter(S=>S.startsWith(e(m,v))).map(S=>[S,t.getFieldMeta(S)]));s(h,v<g?"up":"down"),Object.keys(t.fieldInfo).filter(S=>S.startsWith(e(m,g))).forEach(S=>{const y=S.replace(e(m,g),e(m,v)),b=p.get(y);b&&t.setFieldMeta(S,b)})},d=(h,m,v,g)=>{h.forEach(p=>{if(!p.toString().startsWith(e(m,v)))return;const S=p.toString().replace(e(m,v),e(m,g)),[y,b]=[t.getFieldMeta(p),t.getFieldMeta(S)];y&&t.setFieldMeta(S,y),b&&t.setFieldMeta(p,b)})};return{handleArrayFieldMetaShift:n}}function Rt(t){return{values:t.values??{},errorMap:t.errorMap??{},fieldMetaBase:t.fieldMetaBase??{},isSubmitted:t.isSubmitted??!1,isSubmitting:t.isSubmitting??!1,isValidating:t.isValidating??!1,submissionAttempts:t.submissionAttempts??0,isSubmitSuccessful:t.isSubmitSuccessful??!1,validationMetaMap:t.validationMetaMap??{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0}}}class $i{constructor(n){var e;this.options={},this.fieldInfo={},this.prevTransformArray=[],this.mount=()=>{var r,o;const s=this.fieldMetaDerived.mount(),i=this.store.mount(),a=()=>{s(),i()};(o=(r=this.options.listeners)==null?void 0:r.onMount)==null||o.call(r,{formApi:this});const{onMount:u}=this.options.validators||{};return u&&this.validateSync("mount"),a},this.update=r=>{var o,s;if(!r)return;const i=this.options;this.options=r;const a=!!((s=(o=r.transform)==null?void 0:o.deps)!=null&&s.some((d,h)=>d!==this.prevTransformArray[h])),u=r.defaultValues&&!ge(r.defaultValues,i.defaultValues)&&!this.state.isTouched,f=!ge(r.defaultState,i.defaultState)&&!this.state.isTouched;!u&&!f&&!a||Q(()=>{this.baseStore.setState(()=>Rt(Object.assign({},this.state,f?r.defaultState:{},u?{values:r.defaultValues}:{},a?{_force_re_eval:!this.state._force_re_eval}:{})))})},this.reset=(r,o)=>{const{fieldMeta:s}=this.state,i=this.resetFieldMeta(s);r&&!o?.keepDefaultValues&&(this.options={...this.options,defaultValues:r}),this.baseStore.setState(()=>{var a;return Rt({...this.options.defaultState,values:r??this.options.defaultValues??((a=this.options.defaultState)==null?void 0:a.values),fieldMetaBase:i})})},this.validateAllFields=async r=>{const o=[];return Q(()=>{Object.values(this.fieldInfo).forEach(i=>{if(!i.instance)return;const a=i.instance;o.push(Promise.resolve().then(()=>a.validate(r,{skipFormValidation:!0}))),i.instance.state.meta.isTouched||i.instance.setMeta(u=>({...u,isTouched:!0}))})}),(await Promise.all(o)).flat()},this.validateArrayFieldsStartingFrom=async(r,o,s)=>{const i=this.getFieldValue(r),a=Array.isArray(i)?Math.max(i.length-1,0):null,u=[`${r}[${o}]`];for(let m=o+1;m<=(a??0);m++)u.push(`${r}[${m}]`);const f=Object.keys(this.fieldInfo).filter(m=>u.some(v=>m.startsWith(v))),d=[];return Q(()=>{f.forEach(m=>{d.push(Promise.resolve().then(()=>this.validateField(m,s)))})}),(await Promise.all(d)).flat()},this.validateField=(r,o)=>{var s;const i=(s=this.fieldInfo[r])==null?void 0:s.instance;return i?(i.state.meta.isTouched||i.setMeta(a=>({...a,isTouched:!0})),i.validate(o)):[]},this.validateSync=r=>{const o=Bt(r,this.options);let s=!1;const i={};return Q(()=>{var a,u;for(const d of o){if(!d.validate)continue;const h=this.runValidator({validate:d.validate,value:{value:this.state.values,formApi:this,validationSource:"form"},type:"validate"}),{formError:m,fieldErrors:v}=Ue(h),g=Be(d.cause);for(const p of Object.keys(this.state.fieldMeta)){const S=this.getFieldMeta(p);if(!S)continue;const{errorMap:y,errorSourceMap:b}=S,w=v?.[p],{newErrorValue:C,newSource:T}=sr({newFormValidatorError:w,isPreviousErrorFromFormValidator:b?.[g]==="form",previousErrorValue:y?.[g]});T==="form"&&(i[p]={...i[p],[g]:w}),y?.[g]!==C&&this.setFieldMeta(p,R=>({...R,errorMap:{...R.errorMap,[g]:C},errorSourceMap:{...R.errorSourceMap,[g]:T}}))}((a=this.state.errorMap)==null?void 0:a[g])!==m&&this.baseStore.setState(p=>({...p,errorMap:{...p.errorMap,[g]:m}})),(m||v)&&(s=!0)}const f=Be("submit");(u=this.state.errorMap)!=null&&u[f]&&r!=="submit"&&!s&&this.baseStore.setState(d=>({...d,errorMap:{...d.errorMap,[f]:void 0}}))}),{hasErrored:s,fieldsErrorMap:i}},this.validateAsync=async r=>{const o=$t(r,this.options);this.state.isFormValidating||this.baseStore.setState(f=>({...f,isFormValidating:!0}));const s=[];let i;for(const f of o){if(!f.validate)continue;const d=Be(f.cause),h=this.state.validationMetaMap[d];h?.lastAbortController.abort();const m=new AbortController;this.state.validationMetaMap[d]={lastAbortController:m},s.push(new Promise(async v=>{let g;try{g=await new Promise((b,w)=>{setTimeout(async()=>{if(m.signal.aborted)return b(void 0);try{b(await this.runValidator({validate:f.validate,value:{value:this.state.values,formApi:this,validationSource:"form",signal:m.signal},type:"validateAsync"}))}catch(C){w(C)}},f.debounceMs)})}catch(b){g=b}const{formError:p,fieldErrors:S}=Ue(g);S&&(i=i?{...i,...S}:S);const y=Be(f.cause);for(const b of Object.keys(this.state.fieldMeta)){const w=this.getFieldMeta(b);if(!w)continue;const{errorMap:C,errorSourceMap:T}=w,R=i?.[b],{newErrorValue:E,newSource:M}=sr({newFormValidatorError:R,isPreviousErrorFromFormValidator:T?.[y]==="form",previousErrorValue:C?.[y]});C?.[y]!==E&&this.setFieldMeta(b,x=>({...x,errorMap:{...x.errorMap,[y]:E},errorSourceMap:{...x.errorSourceMap,[y]:M}}))}this.baseStore.setState(b=>({...b,errorMap:{...b.errorMap,[y]:p}})),v(i?{fieldErrors:i,errorMapKey:y}:void 0)}))}let a=[];const u={};if(s.length){a=await Promise.all(s);for(const f of a)if(f?.fieldErrors){const{errorMapKey:d}=f;for(const[h,m]of Object.entries(f.fieldErrors)){const g={...u[h]||{},[d]:m};u[h]=g}}}return this.baseStore.setState(f=>({...f,isFormValidating:!1})),u},this.validate=r=>{const{hasErrored:o,fieldsErrorMap:s}=this.validateSync(r);return o&&!this.options.asyncAlways?s:this.validateAsync(r)},this.getFieldValue=r=>de(this.state.values,r),this.getFieldMeta=r=>this.state.fieldMeta[r],this.getFieldInfo=r=>{var o;return(o=this.fieldInfo)[r]||(o[r]={instance:null,validationMetaMap:{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0}})},this.setFieldMeta=(r,o)=>{this.baseStore.setState(s=>({...s,fieldMetaBase:{...s.fieldMetaBase,[r]:_e(o,s.fieldMetaBase[r])}}))},this.resetFieldMeta=r=>Object.keys(r).reduce((o,s)=>{const i=s;return o[i]=Qe,o},{}),this.setFieldValue=(r,o,s)=>{const i=s?.dontUpdateMeta??!1;Q(()=>{i||this.setFieldMeta(r,a=>({...a,isTouched:!0,isDirty:!0,errorMap:{...a?.errorMap,onMount:void 0}})),this.baseStore.setState(a=>({...a,values:Le(a.values,r,o)}))})},this.deleteField=r=>{const s=[...Object.keys(this.fieldInfo).filter(i=>{const a=r.toString();return i!==a&&i.startsWith(a)}),r];this.baseStore.setState(i=>{const a={...i};return s.forEach(u=>{a.values=Pi(a.values,u),delete this.fieldInfo[u],delete a.fieldMetaBase[u]}),a})},this.pushFieldValue=(r,o,s)=>{this.setFieldValue(r,i=>[...Array.isArray(i)?i:[],o],s),this.validateField(r,"change")},this.insertFieldValue=async(r,o,s,i)=>{this.setFieldValue(r,a=>[...a.slice(0,o),s,...a.slice(o)],i),await this.validateField(r,"change"),$e(this).handleArrayFieldMetaShift(r,o,"insert"),await this.validateArrayFieldsStartingFrom(r,o,"change")},this.replaceFieldValue=async(r,o,s,i)=>{this.setFieldValue(r,a=>a.map((u,f)=>f===o?s:u),i),await this.validateField(r,"change"),await this.validateArrayFieldsStartingFrom(r,o,"change")},this.removeFieldValue=async(r,o,s)=>{const i=this.getFieldValue(r),a=Array.isArray(i)?Math.max(i.length-1,0):null;if(this.setFieldValue(r,u=>u.filter((f,d)=>d!==o),s),$e(this).handleArrayFieldMetaShift(r,o,"remove"),a!==null){const u=`${r}[${a}]`;this.deleteField(u)}await this.validateField(r,"change"),await this.validateArrayFieldsStartingFrom(r,o,"change")},this.swapFieldValues=(r,o,s,i)=>{this.setFieldValue(r,a=>{const u=a[o],f=a[s];return Le(Le(a,`${o}`,f),`${s}`,u)},i),$e(this).handleArrayFieldMetaShift(r,o,"swap",s),this.validateField(r,"change"),this.validateField(`${r}[${o}]`,"change"),this.validateField(`${r}[${s}]`,"change")},this.moveFieldValues=(r,o,s,i)=>{this.setFieldValue(r,a=>{const u=[...a];return u.splice(s,0,u.splice(o,1)[0]),u},i),$e(this).handleArrayFieldMetaShift(r,o,"move",s),this.validateField(r,"change"),this.validateField(`${r}[${o}]`,"change"),this.validateField(`${r}[${s}]`,"change")},this.clearFieldValues=(r,o)=>{const s=this.getFieldValue(r),i=Array.isArray(s)?Math.max(s.length-1,0):null;if(this.setFieldValue(r,[],o),i!==null)for(let a=0;a<=i;a++){const u=`${r}[${a}]`;this.deleteField(u)}this.validateField(r,"change")},this.resetField=r=>{this.baseStore.setState(o=>({...o,fieldMetaBase:{...o.fieldMetaBase,[r]:Qe},values:this.options.defaultValues?Le(o.values,r,de(this.options.defaultValues,r)):o.values}))},this.getAllErrors=()=>({form:{errors:this.state.errors,errorMap:this.state.errorMap},fields:Object.entries(this.state.fieldMeta).reduce((r,[o,s])=>(Object.keys(s).length&&s.errors.length&&(r[o]={errors:s.errors,errorMap:s.errorMap}),r),{})}),this.parseValuesWithSchema=r=>be.validate({value:this.state.values,validationSource:"form"},r),this.parseValuesWithSchemaAsync=r=>be.validateAsync({value:this.state.values,validationSource:"form"},r),this.baseStore=new Lt(Rt({...n?.defaultState,values:n?.defaultValues??((e=n?.defaultState)==null?void 0:e.values)})),this.fieldMetaDerived=new ee({deps:[this.baseStore],fn:({prevDepVals:r,currDepVals:o,prevVal:s})=>{var i,a,u;const f=s,d=r?.[0],h=o[0];let m=0;const v={};for(const g of Object.keys(h.fieldMetaBase)){const p=h.fieldMetaBase[g],S=d?.fieldMetaBase[g],y=f?.[g],b=de(h.values,g);let w=y?.errors;if(!S||p.errorMap!==S.errorMap){w=Object.values(p.errorMap??{}).filter(M=>M!==void 0);const E=(i=this.getFieldInfo(g))==null?void 0:i.instance;E&&!E.options.disableErrorFlat&&(w=w?.flat(1))}const C=!Li(w??[]),T=!p.isDirty,R=ge(b,de(this.options.defaultValues,g))||ge(b,(u=(a=this.getFieldInfo(g))==null?void 0:a.instance)==null?void 0:u.options.defaultValue);if(y&&y.isPristine===T&&y.isValid===C&&y.isDefaultValue===R&&y.errors===w&&p===S){v[g]=y,m++;continue}v[g]={...p,errors:w,isPristine:T,isValid:C,isDefaultValue:R}}return Object.keys(h.fieldMetaBase).length&&f&&m===Object.keys(h.fieldMetaBase).length?f:v}}),this.store=new ee({deps:[this.baseStore,this.fieldMetaDerived],fn:({prevDepVals:r,currDepVals:o,prevVal:s})=>{var i,a,u,f;const d=s,h=r?.[0],m=o[0],v=o[1],g=Object.values(v).filter(Boolean),p=g.some(I=>I.isValidating),S=g.every(I=>I.isValid),y=g.some(I=>I.isTouched),b=g.some(I=>I.isBlurred),w=g.every(I=>I.isDefaultValue),C=y&&((i=m.errorMap)==null?void 0:i.onMount),T=g.some(I=>I.isDirty),R=!T,E=!!((a=m.errorMap)!=null&&a.onMount||g.some(I=>{var L;return(L=I?.errorMap)==null?void 0:L.onMount})),M=!!p;let x=d?.errors??[];(!h||m.errorMap!==h.errorMap)&&(x=Object.values(m.errorMap).reduce((I,L)=>L===void 0?I:L&&Ht(L)?(I.push(L.form),I):(I.push(L),I),[]));const V=x.length===0,P=S&&V,G=this.options.canSubmitWhenInvalid??!1,K=m.submissionAttempts===0&&!y&&!E||!M&&!m.isSubmitting&&P||G;let H=m.errorMap;if(C&&(x=x.filter(I=>I!==m.errorMap.onMount),H=Object.assign(H,{onMount:void 0})),d&&h&&d.errorMap===H&&d.fieldMeta===this.fieldMetaDerived.state&&d.errors===x&&d.isFieldsValidating===p&&d.isFieldsValid===S&&d.isFormValid===V&&d.isValid===P&&d.canSubmit===K&&d.isTouched===y&&d.isBlurred===b&&d.isPristine===R&&d.isDefaultValue===w&&d.isDirty===T&&ge(h,m))return d;let W={...m,errorMap:H,fieldMeta:this.fieldMetaDerived.state,errors:x,isFieldsValidating:p,isFieldsValid:S,isFormValid:V,isValid:P,canSubmit:K,isTouched:y,isBlurred:b,isPristine:R,isDefaultValue:w,isDirty:T};const _=((u=this.options.transform)==null?void 0:u.deps)??[];if(_.length!==this.prevTransformArray.length||_.some((I,L)=>I!==this.prevTransformArray[L])){const I=Object.assign({},this,{state:W});(f=this.options.transform)==null||f.fn(I),W=I.state,this.prevTransformArray=_}return W}}),this.handleSubmit=this.handleSubmit.bind(this),this.update(n||{})}get state(){return this.store.state}runValidator(n){return Do(n.validate)?be[n.type](n.value,n.validate):n.validate(n.value)}async handleSubmit(n){var e,r,o,s,i,a,u,f;if(this.baseStore.setState(h=>({...h,isSubmitted:!1,submissionAttempts:h.submissionAttempts+1,isSubmitSuccessful:!1})),Q(()=>{Object.values(this.fieldInfo).forEach(h=>{h.instance&&(h.instance.state.meta.isTouched||h.instance.setMeta(m=>({...m,isTouched:!0})))})}),!this.state.canSubmit)return;this.baseStore.setState(h=>({...h,isSubmitting:!0}));const d=()=>{this.baseStore.setState(h=>({...h,isSubmitting:!1}))};if(await this.validateAllFields("submit"),!this.state.isFieldsValid){d(),(r=(e=this.options).onSubmitInvalid)==null||r.call(e,{value:this.state.values,formApi:this});return}if(await this.validate("submit"),!this.state.isValid){d(),(s=(o=this.options).onSubmitInvalid)==null||s.call(o,{value:this.state.values,formApi:this});return}Q(()=>{Object.values(this.fieldInfo).forEach(h=>{var m,v,g;(g=(v=(m=h.instance)==null?void 0:m.options.listeners)==null?void 0:v.onSubmit)==null||g.call(v,{value:h.instance.state.value,fieldApi:h.instance})})}),(a=(i=this.options.listeners)==null?void 0:i.onSubmit)==null||a.call(i,{formApi:this});try{await((f=(u=this.options).onSubmit)==null?void 0:f.call(u,{value:this.state.values,formApi:this,meta:n??this.options.onSubmitMeta})),Q(()=>{this.baseStore.setState(h=>({...h,isSubmitted:!0,isSubmitSuccessful:!0})),d()})}catch(h){throw this.baseStore.setState(m=>({...m,isSubmitSuccessful:!1})),d(),h}}setErrorMap(n){Q(()=>{Object.entries(n).forEach(([e,r])=>{const o=e;if(Ht(r)){const{formError:s,fieldErrors:i}=Ue(r);for(const a of Object.keys(this.fieldInfo))this.getFieldMeta(a)&&this.setFieldMeta(a,f=>({...f,errorMap:{...f.errorMap,[o]:i?.[a]},errorSourceMap:{...f.errorSourceMap,[o]:"form"}}));this.baseStore.setState(a=>({...a,errorMap:{...a.errorMap,[o]:s}}))}else this.baseStore.setState(s=>({...s,errorMap:{...s.errorMap,[o]:r}}))})})}}function Ue(t){if(t){if(Ht(t)){const n=Ue(t.form).formError,e=t.fields;return{formError:n,fieldErrors:e}}return{formError:t}}return{formError:void 0}}function Be(t){switch(t){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"change":default:return"onChange"}}class Bi{constructor(n){this.options={},this.mount=()=>{var e,r;const o=this.store.mount();this.options.defaultValue!==void 0&&this.form.setFieldValue(this.name,this.options.defaultValue,{dontUpdateMeta:!0});const s=this.getInfo();s.instance=this,this.update(this.options);const{onMount:i}=this.options.validators||{};if(i){const a=this.runValidator({validate:i,value:{value:this.state.value,fieldApi:this,validationSource:"field"},type:"validate"});a&&this.setMeta(u=>({...u,errorMap:{...u?.errorMap,onMount:a},errorSourceMap:{...u?.errorSourceMap,onMount:"field"}}))}return(r=(e=this.options.listeners)==null?void 0:e.onMount)==null||r.call(e,{value:this.state.value,fieldApi:this}),o},this.update=e=>{this.options=e;const r=this.name!==e.name;if(this.name=e.name,this.state.value===void 0){const o=de(e.form.options.defaultValues,e.name),s=e.defaultValue??o;r?this.setValue(i=>i||s,{dontUpdateMeta:!0}):s!==void 0&&this.setValue(s,{dontUpdateMeta:!0})}this.form.getFieldMeta(this.name)===void 0&&this.setMeta(this.state.meta)},this.getValue=()=>this.form.getFieldValue(this.name),this.setValue=(e,r)=>{this.form.setFieldValue(this.name,e,r),this.triggerOnChangeListener(),this.validate("change")},this.getMeta=()=>this.store.state.meta,this.setMeta=e=>this.form.setFieldMeta(this.name,e),this.getInfo=()=>this.form.getFieldInfo(this.name),this.pushValue=(e,r)=>{this.form.pushFieldValue(this.name,e,r),this.triggerOnChangeListener()},this.insertValue=(e,r,o)=>{this.form.insertFieldValue(this.name,e,r,o),this.triggerOnChangeListener()},this.replaceValue=(e,r,o)=>{this.form.replaceFieldValue(this.name,e,r,o),this.triggerOnChangeListener()},this.removeValue=(e,r)=>{this.form.removeFieldValue(this.name,e,r),this.triggerOnChangeListener()},this.swapValues=(e,r,o)=>{this.form.swapFieldValues(this.name,e,r,o),this.triggerOnChangeListener()},this.moveValue=(e,r,o)=>{this.form.moveFieldValues(this.name,e,r,o),this.triggerOnChangeListener()},this.clearValues=e=>{this.form.clearFieldValues(this.name,e),this.triggerOnChangeListener()},this.getLinkedFields=e=>{const r=Object.values(this.form.fieldInfo),o=[];for(const s of r){if(!s.instance)continue;const{onChangeListenTo:i,onBlurListenTo:a}=s.instance.options.validators||{};e==="change"&&i?.includes(this.name)&&o.push(s.instance),e==="blur"&&a?.includes(this.name)&&o.push(s.instance)}return o},this.validateSync=(e,r)=>{var o;const s=Bt(e,this.options),a=this.getLinkedFields(e).reduce((d,h)=>{const m=Bt(e,h.options);return m.forEach(v=>{v.field=h}),d.concat(m)},[]);let u=!1;Q(()=>{const d=(h,m)=>{var v;const g=He(m.cause),p=m.validate?lr(h.runValidator({validate:m.validate,value:{value:h.store.state.value,validationSource:"field",fieldApi:h},type:"validate"})):void 0,S=r[g],{newErrorValue:y,newSource:b}=ir({formLevelError:S,fieldLevelError:p});((v=h.state.meta.errorMap)==null?void 0:v[g])!==y&&h.setMeta(w=>({...w,errorMap:{...w.errorMap,[g]:y},errorSourceMap:{...w.errorSourceMap,[g]:b}})),y&&(u=!0)};for(const h of s)d(this,h);for(const h of a)h.validate&&d(h.field,h)});const f=He("submit");return(o=this.state.meta.errorMap)!=null&&o[f]&&e!=="submit"&&!u&&this.setMeta(d=>({...d,errorMap:{...d.errorMap,[f]:void 0},errorSourceMap:{...d.errorSourceMap,[f]:void 0}})),{hasErrored:u}},this.validateAsync=async(e,r)=>{const o=$t(e,this.options),s=await r,i=this.getLinkedFields(e),a=i.reduce((m,v)=>{const g=$t(e,v.options);return g.forEach(p=>{p.field=v}),m.concat(g)},[]);this.state.meta.isValidating||this.setMeta(m=>({...m,isValidating:!0}));for(const m of i)m.setMeta(v=>({...v,isValidating:!0}));const u=[],f=[],d=(m,v,g)=>{const p=He(v.cause),S=m.getInfo().validationMetaMap[p];S?.lastAbortController.abort();const y=new AbortController;this.getInfo().validationMetaMap[p]={lastAbortController:y},g.push(new Promise(async b=>{var w;let C;try{C=await new Promise((x,V)=>{this.timeoutIds.validations[v.cause]&&clearTimeout(this.timeoutIds.validations[v.cause]),this.timeoutIds.validations[v.cause]=setTimeout(async()=>{if(y.signal.aborted)return x(void 0);try{x(await this.runValidator({validate:v.validate,value:{value:m.store.state.value,fieldApi:m,signal:y.signal,validationSource:"field"},type:"validateAsync"}))}catch(P){V(P)}},v.debounceMs)})}catch(x){C=x}if(y.signal.aborted)return b(void 0);const T=lr(C),R=(w=s[this.name])==null?void 0:w[p],{newErrorValue:E,newSource:M}=ir({formLevelError:R,fieldLevelError:T});m.setMeta(x=>({...x,errorMap:{...x?.errorMap,[p]:E},errorSourceMap:{...x.errorSourceMap,[p]:M}})),b(E)}))};for(const m of o)m.validate&&d(this,m,u);for(const m of a)m.validate&&d(m.field,m,f);let h=[];(u.length||f.length)&&(h=await Promise.all(u),await Promise.all(f)),this.setMeta(m=>({...m,isValidating:!1}));for(const m of i)m.setMeta(v=>({...v,isValidating:!1}));return h.filter(Boolean)},this.validate=(e,r)=>{var o;if(!this.state.meta.isTouched)return[];const{fieldsErrorMap:s}=r?.skipFormValidation?{fieldsErrorMap:{}}:this.form.validateSync(e),{hasErrored:i}=this.validateSync(e,s[this.name]??{});if(i&&!this.options.asyncAlways)return(o=this.getInfo().validationMetaMap[He(e)])==null||o.lastAbortController.abort(),this.state.meta.errors;const a=r?.skipFormValidation?Promise.resolve({}):this.form.validateAsync(e);return this.validateAsync(e,a)},this.handleChange=e=>{this.setValue(e)},this.handleBlur=()=>{this.state.meta.isTouched||this.setMeta(r=>({...r,isTouched:!0})),this.state.meta.isBlurred||this.setMeta(r=>({...r,isBlurred:!0})),this.validate("blur"),this.triggerOnBlurListener()},this.parseValueWithSchema=e=>be.validate({value:this.state.value,validationSource:"field"},e),this.parseValueWithSchemaAsync=e=>be.validateAsync({value:this.state.value,validationSource:"field"},e),this.form=n.form,this.name=n.name,this.timeoutIds={validations:{},listeners:{},formListeners:{}},this.store=new ee({deps:[this.form.store],fn:()=>{const e=this.form.getFieldValue(this.name),r=this.form.getFieldMeta(this.name)??{...Qe,...n.defaultMeta};return{value:e,meta:r}}}),this.options=n}get state(){return this.store.state}runValidator(n){return Do(n.validate)?be[n.type](n.value,n.validate):n.validate(n.value)}setErrorMap(n){this.setMeta(e=>({...e,errorMap:{...e.errorMap,...n}}))}triggerOnBlurListener(){var n,e,r,o,s,i;const a=(n=this.form.options.listeners)==null?void 0:n.onBlurDebounceMs;a&&a>0?(this.timeoutIds.formListeners.blur&&clearTimeout(this.timeoutIds.formListeners.blur),this.timeoutIds.formListeners.blur=setTimeout(()=>{var f,d;(d=(f=this.form.options.listeners)==null?void 0:f.onBlur)==null||d.call(f,{formApi:this.form,fieldApi:this})},a)):(r=(e=this.form.options.listeners)==null?void 0:e.onBlur)==null||r.call(e,{formApi:this.form,fieldApi:this});const u=(o=this.options.listeners)==null?void 0:o.onBlurDebounceMs;u&&u>0?(this.timeoutIds.listeners.blur&&clearTimeout(this.timeoutIds.listeners.blur),this.timeoutIds.listeners.blur=setTimeout(()=>{var f,d;(d=(f=this.options.listeners)==null?void 0:f.onBlur)==null||d.call(f,{value:this.state.value,fieldApi:this})},u)):(i=(s=this.options.listeners)==null?void 0:s.onBlur)==null||i.call(s,{value:this.state.value,fieldApi:this})}triggerOnChangeListener(){var n,e,r,o,s,i;const a=(n=this.form.options.listeners)==null?void 0:n.onChangeDebounceMs;a&&a>0?(this.timeoutIds.formListeners.change&&clearTimeout(this.timeoutIds.formListeners.change),this.timeoutIds.formListeners.change=setTimeout(()=>{var f,d;(d=(f=this.form.options.listeners)==null?void 0:f.onChange)==null||d.call(f,{formApi:this.form,fieldApi:this})},a)):(r=(e=this.form.options.listeners)==null?void 0:e.onChange)==null||r.call(e,{formApi:this.form,fieldApi:this});const u=(o=this.options.listeners)==null?void 0:o.onChangeDebounceMs;u&&u>0?(this.timeoutIds.listeners.change&&clearTimeout(this.timeoutIds.listeners.change),this.timeoutIds.listeners.change=setTimeout(()=>{var f,d;(d=(f=this.options.listeners)==null?void 0:f.onChange)==null||d.call(f,{value:this.state.value,fieldApi:this})},u)):(i=(s=this.options.listeners)==null?void 0:s.onChange)==null||i.call(s,{value:this.state.value,fieldApi:this})}}function lr(t){if(t)return t}function He(t){switch(t){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"change":default:return"onChange"}}class et{constructor(n){if(this.getFormFieldName=e=>{if(typeof this.fieldsMap=="string")return nr(this.fieldsMap,e);const r=ft(e)[0];if(typeof r!="string")return"";const o=e.slice(r.length),s=this.fieldsMap[r];return nr(s,o)},this.mount=()=>this.store.mount(),this.validateArrayFieldsStartingFrom=async(e,r,o)=>this.form.validateArrayFieldsStartingFrom(this.getFormFieldName(e),r,o),this.validateField=(e,r)=>this.form.validateField(this.getFormFieldName(e),r),this.getFieldValue=e=>this.form.getFieldValue(this.getFormFieldName(e)),this.getFieldMeta=e=>this.form.getFieldMeta(this.getFormFieldName(e)),this.setFieldMeta=(e,r)=>this.form.setFieldMeta(this.getFormFieldName(e),r),this.setFieldValue=(e,r,o)=>this.form.setFieldValue(this.getFormFieldName(e),r,o),this.deleteField=e=>this.form.deleteField(this.getFormFieldName(e)),this.pushFieldValue=(e,r,o)=>this.form.pushFieldValue(this.getFormFieldName(e),r,o),this.insertFieldValue=async(e,r,o,s)=>this.form.insertFieldValue(this.getFormFieldName(e),r,o,s),this.replaceFieldValue=async(e,r,o,s)=>this.form.replaceFieldValue(this.getFormFieldName(e),r,o,s),this.removeFieldValue=async(e,r,o)=>this.form.removeFieldValue(this.getFormFieldName(e),r,o),this.swapFieldValues=(e,r,o,s)=>this.form.swapFieldValues(this.getFormFieldName(e),r,o,s),this.moveFieldValues=(e,r,o,s)=>this.form.moveFieldValues(this.getFormFieldName(e),r,o,s),this.clearFieldValues=(e,r)=>this.form.clearFieldValues(this.getFormFieldName(e),r),this.resetField=e=>this.form.resetField(this.getFormFieldName(e)),this.validateAllFields=e=>this.form.validateAllFields(e),n.form instanceof et){const e=n.form;if(this.form=e.form,typeof n.fields=="string")this.fieldsMap=e.getFormFieldName(n.fields);else{const r={...n.fields};for(const o in r)r[o]=e.getFormFieldName(r[o]);this.fieldsMap=r}}else this.form=n.form,this.fieldsMap=n.fields;this.store=new ee({deps:[this.form.store],fn:({currDepVals:e})=>{const r=e[0];let o;if(typeof this.fieldsMap=="string")o=de(r.values,this.fieldsMap);else{o={};const s=this.fieldsMap;for(const i in s)o[i]=de(r.values,s[i])}return{values:o}}})}get state(){return this.store.state}async handleSubmit(n){return this.form.handleSubmit(n)}}var It={exports:{}},At={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cr;function Hi(){if(cr)return At;cr=1;var t=mr(),n=En();function e(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var r=typeof Object.is=="function"?Object.is:e,o=n.useSyncExternalStore,s=t.useRef,i=t.useEffect,a=t.useMemo,u=t.useDebugValue;return At.useSyncExternalStoreWithSelector=function(f,d,h,m,v){var g=s(null);if(g.current===null){var p={hasValue:!1,value:null};g.current=p}else p=g.current;g=a(function(){function y(R){if(!b){if(b=!0,w=R,R=m(R),v!==void 0&&p.hasValue){var E=p.value;if(v(E,R))return C=E}return C=R}if(E=C,r(w,R))return E;var M=m(R);return v!==void 0&&v(E,M)?(w=R,E):(w=R,C=M)}var b=!1,w,C,T=h===void 0?null:h;return[function(){return y(d())},T===null?void 0:function(){return y(T())}]},[d,h,m,v]);var S=o(f,g[0],g[1]);return i(function(){p.hasValue=!0,p.value=S},[S]),u(S),S},At}var ur;function Wi(){return ur||(ur=1,It.exports=Hi()),It.exports}var zi=Wi();function xe(t,n=e=>e){return zi.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,n,Gi)}function Gi(t,n){if(Object.is(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(const[r,o]of t)if(!n.has(r)||!Object.is(o,n.get(r)))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(const r of t)if(!n.has(r))return!1;return!0}if(t instanceof Date&&n instanceof Date)return t.getTime()===n.getTime();const e=Object.keys(t);if(e.length!==Object.keys(n).length)return!1;for(let r=0;r<e.length;r++)if(!Object.prototype.hasOwnProperty.call(n,e[r])||!Object.is(t[e[r]],n[e[r]]))return!1;return!0}const Ie=typeof window<"u"?l.useLayoutEffect:l.useEffect;function Ui(t){const[n]=l.useState(()=>{const r=new Bi({...t,form:t.form,name:t.name});return r.Field=Oo,r});return Ie(n.mount,[n]),Ie(()=>{n.update(t)}),xe(n.store,t.mode==="array"?e=>[e.meta,Object.keys(e.value??[]).length]:void 0),n}const Oo=({children:t,...n})=>{const e=Ui(n),r=l.useMemo(()=>_e(t,e),[t,e,e.state.value,e.state.meta]);return c.jsx(c.Fragment,{children:r})};function Ki({form:t,selector:n,children:e}){const r=xe(t.store,n);return _e(e,r)}function Yi(t){const[n]=l.useState(()=>{const e=new $i(t),r=e;return r.Field=function(s){return c.jsx(Oo,{...s,form:e})},r.Subscribe=function(s){return c.jsx(Ki,{form:e,selector:s.selector,children:s.children})},r});return Ie(n.mount,[]),Ie(()=>{n.update(t)}),n}function Xi({lens:t,selector:n,children:e}){const r=xe(t.store,n);return _e(e,r)}function qi(t){const[n]=l.useState(()=>{const e=new et(t),r=t.form instanceof et?t.form.form:t.form,o=e;return o.AppForm=function(i){return c.jsx(r.AppForm,{...i})},o.AppField=function({name:i,...a}){return c.jsx(r.AppField,{name:n.getFormFieldName(i),...a})},o.Field=function({name:i,...a}){return c.jsx(r.Field,{name:n.getFormFieldName(i),...a})},o.Subscribe=function(i){return c.jsx(Xi,{lens:n,selector:i.selector,children:i.children})},Object.assign(o,{...t.formComponents})});return Ie(n.mount,[n]),n}function Zi(){const t=l.createContext(null);function n(){const o=l.useContext(t);if(!o)throw new Error("`fieldContext` only works when within a `fieldComponent` passed to `createFormHook`");return o}const e=l.createContext(null);function r(){const o=l.useContext(e);if(!o)throw new Error("`formContext` only works when within a `formComponent` passed to `createFormHook`");return o}return{fieldContext:t,useFieldContext:n,useFormContext:r,formContext:e}}function Ji({fieldComponents:t,fieldContext:n,formContext:e,formComponents:r}){function o(a){const u=Yi(a),f=l.useMemo(()=>({children:v})=>c.jsx(e.Provider,{value:u,children:v}),[u]),d=l.useMemo(()=>({children:v,...g})=>c.jsx(u.Field,{...g,children:p=>c.jsx(n.Provider,{value:p,children:v(Object.assign(p,t))})}),[u]);return l.useMemo(()=>Object.assign(u,{AppField:d,AppForm:f,...r}),[u,d,f])}function s({render:a,props:u}){return f=>a({...u,...f})}function i({render:a,props:u,defaultValues:f}){return function(h){const m=l.useMemo(()=>({form:h.form,fields:h.fields,defaultValues:f,formComponents:r}),[h.form,h.fields]),v=qi(m);return a({...u,...h,group:v})}}return{useAppForm:o,withForm:s,withFieldGroup:i}}const ht={defaultValues:{redirectRuleForm:{name:"",source:"",destination:""},headerRuleForm:{name:"",key:"",value:""},scriptForm:{name:"",body:"",runAt:"document_idle",allFrames:!0,matches:""}}},{fieldContext:Qi,useFieldContext:qt,formContext:ea,useFormContext:ta}=Zi(),ra="_Button_78nxy_1",oa={Button:ra};function Zt({children:t}){return c.jsx($n,{children:c.jsx(it,{highContrast:!0,weight:"medium",size:"2",children:t})})}function na({label:t,options:n}){const e=qt(),r=xe(e.store,o=>o.meta.errors);return c.jsxs(z,{align:"start",direction:"column",minWidth:"100%",children:[c.jsx(J,{p:"1",children:c.jsx(Zt,{children:t})}),c.jsx(J,{className:oa.Button,children:c.jsxs(Ro,{size:"2",defaultValue:"document_start",children:[c.jsx(Io,{}),c.jsx(Ao,{children:n.map(({label:o,value:s})=>c.jsx(Vo,{value:s,children:o}))}),r&&c.jsx("ul",{children:r.map(o=>c.jsx("li",{children:o}))})]})})]})}function sa({placeholder:t,htmlFor:n,label:e}){const r=qt(),o=xe(r.store,s=>s.meta.errors);return c.jsx(J,{flexGrow:"1",children:c.jsxs(z,{gap:"1",align:"start",direction:"column",children:[c.jsx(Zt,{children:e}),c.jsx(J,{width:"100%",children:c.jsx(Po,{radius:"large",id:n,placeholder:t,value:r.state.value,onChange:s=>r.handleChange(s.target.value),onBlur:r.handleBlur})}),o.map(s=>c.jsx(it,{align:"left",size:"1",color:"red",children:s},s))]})})}function ia({label:t,placeholder:n}){const e=qt(),r=xe(e.store,o=>o.meta.errors);return c.jsxs(J,{flexGrow:"1",children:[c.jsx(z,{align:"start",children:c.jsx(Zt,{children:t})}),c.jsxs(J,{flexGrow:"1",children:[c.jsx(_o,{placeholder:n,value:e.state.value,onChange:o=>e.handleChange(o.target.value),onBlur:e.handleBlur}),r.map(o=>c.jsx(z,{children:c.jsx(it,{align:"left",size:"1",color:"red",children:o},o)}))]})]})}function aa({label:t}){const n=ta();return c.jsx(n.Subscribe,{selector:e=>e.isSubmitting,children:e=>c.jsxs("button",{disabled:e,children:[" ",t," "]})})}const{useAppForm:la,withForm:Jt}=Ji({fieldComponents:{SelectField:na,TextField:ia,TextArea:sa},formComponents:{SubscribeButton:aa},fieldContext:Qi,formContext:ea}),ca="_Input_nkocl_1",dr={Input:ca},ua={},Qt=({onClick:t,children:n})=>c.jsxs(ve,{type:"button",style:{backgroundColor:"black"},className:ua.Button,onClick:t,children:[c.jsx(pn,{}),n]}),da=Jt({...ht,render:({form:t})=>{const n={onChange:({value:e})=>e?.trim()?.length?void 0:"Please enter a valid input."};return c.jsx(J,{p:"2",children:c.jsxs(z,{gap:"1",direction:"column",children:[c.jsx(t.AppField,{validators:n,name:"headerRuleForm.name",children:e=>c.jsx("div",{className:dr.Input,children:c.jsx(e.TextField,{placeholder:"Cool Header",label:"Rule name:"})})}),c.jsx(t.AppField,{validators:n,name:"headerRuleForm.key",children:e=>c.jsx("div",{className:dr.Input,children:c.jsx(e.TextField,{placeholder:"x-Forwarded-For",label:"Header key:"})})}),c.jsx(t.AppField,{validators:n,name:"headerRuleForm.value",children:e=>c.jsx(e.TextField,{placeholder:"http://test.domain.com",label:"Header value:"})}),c.jsx(Qt,{onClick:()=>t.handleSubmit({submitAction:"add-header"}),children:"Create header"})]})})}}),fr={},fa=Jt({...ht,render:({form:t})=>{const n={onChange:({value:e})=>e?.trim()?.length?void 0:"Please enter a valid input."};return c.jsx(J,{className:fr.Card,p:"2",children:c.jsxs(z,{gap:"1",direction:"column",children:[c.jsxs(z,{gap:"1",direction:"column",children:[c.jsx(t.AppField,{validators:n,name:"redirectRuleForm.name",children:e=>c.jsx("div",{className:fr.Input,children:c.jsx(e.TextField,{placeholder:"Cool Redirect",label:"Rule name:"})})}),c.jsx(t.AppField,{validators:n,name:"redirectRuleForm.source",children:e=>c.jsx(e.TextField,{placeholder:"Example: https://example.com/(.*)",label:"Source:"})}),c.jsx(t.AppField,{validators:n,name:"redirectRuleForm.destination",children:e=>c.jsx(e.TextField,{placeholder:"Example: https://google.com/$1",label:"Destination:"})})]}),c.jsx(Qt,{onClick:()=>t.handleSubmit({submitAction:"add-redirect"}),children:"Create redirect"})]})})}});var Re=(t=>(t.CreateScript="create-script",t.AddHeader="add-header",t.AddRedirect="add-redirect",t))(Re||{}),se=(t=>(t.SCRIPT="script",t.HEADER="header",t.REDIRECT="redirect",t))(se||{});const ha=()=>c.jsx(wr,{role:"alert",color:"red",size:"1",children:c.jsx(z,{style:{textAlign:"center"},direction:"column",justify:"center",align:"center",children:c.jsx(vn,{children:c.jsx(it,{children:"You must enable user scripts in chrome extension settings to enable script creation."})})})}),ma=Jt({...ht,render:({form:t})=>{const n={onChange:({value:s})=>s?.trim()?.length?void 0:"Please enter a valid input."},[e,r]=l.useState(!1),o=["document_idle","document_end","document_start"].map(s=>({label:s,value:s}));return l.useEffect(()=>{try{chrome.userScripts.getScripts()}catch{r(!0)}},[]),c.jsx(J,{p:"2",children:c.jsxs(z,{gap:"1",direction:"column",children:[e&&c.jsx(ha,{}),c.jsx(t.AppField,{validators:n,name:"scriptForm.name",children:s=>c.jsx(s.TextField,{label:"Rule name:",placeholder:"My Cool Script"})}),c.jsx(t.AppField,{validators:n,name:"scriptForm.body",children:s=>c.jsx(s.TextArea,{htmlFor:"script-input",label:"Script:",placeholder:"console.log(something);"})}),c.jsx(t.AppField,{name:"scriptForm.matches",children:s=>c.jsx(s.TextField,{label:"RegEx matcher:",placeholder:"*://*/*"})}),c.jsx(t.AppField,{name:"scriptForm.runAt",children:s=>c.jsx(s.SelectField,{options:o,label:"When:"})}),c.jsx(Qt,{onClick:()=>t.handleSubmit({submitAction:Re.CreateScript}),children:"Create script"})]})})}}),pa="_RuleCardContainer_6vntd_6",va={RuleCardContainer:pa},ga=t=>{const[n,e]=l.useState(t),r=l.useRef(null);return l.useEffect(()=>{if(r.current)return;(async()=>{r.current=!0;const s=await chrome.storage?.local?.get(Fe);s[Fe]&&(Ke(`Initial selected form: ${s[Fe]}`),e(s[Fe]))})().catch(Ke)},[]),l.useEffect(()=>{chrome.storage?.local?.set({[Fe]:n})},[n]),{selectedForm:n??t,setSelectedForm:e}},Sa=t=>new wn({name:t.name,details:{action:{type:"redirect",redirect:{url:t.destination}},condition:{resourceTypes:["main_frame"],regexFilter:t.source},id:t?.id??xr()}}),ba=t=>new xn({name:t.name,details:{action:{type:"modifyHeaders",requestHeaders:[{header:t.headerKey,operation:"set",value:t.headerValue}]},condition:{resourceTypes:["sub_frame","font","main_frame","xmlhttprequest","script","image","webbundle","media","other","object"],regexFilter:".*"},id:t?.id??xr()}}),ya=()=>{const t=l.useRef(null);return l.useEffect(()=>{t.current||(t.current=!0,De.syncAll().catch(e=>Ke(e)))},[]),la({...ht,validators:{},onSubmitMeta:{submitAction:null},onSubmit:async({value:e,meta:r})=>{if(Ke(`Selected action - ${r?.submitAction}`),r.submitAction===Re.AddRedirect){await De.create([Sa({source:e.redirectRuleForm.source,destination:e.redirectRuleForm.destination,name:e.redirectRuleForm.name||"Redirect Rule"})]);return}if(r.submitAction===Re.AddHeader){await De.create([ba({headerKey:e.headerRuleForm.key,headerValue:e.headerRuleForm.value,name:e.headerRuleForm.name})]);return}if(r.submitAction===Re.CreateScript){await De.create([Cn({name:e.scriptForm.name,body:e.scriptForm.body,matches:e.scriptForm.matches})]);return}}})},Lo=l.createContext({interpolations:[],allPaused:void 0,pause:t=>{},pauseAll:()=>{},resume:t=>{},resumeAll:()=>{},remove:t=>{},removeAll:()=>{}}),wa=({children:t})=>{const n=gn();return c.jsx(Lo,{value:n,children:t})},xa=({showRules:t=!0})=>{const n=ya(),{selectedForm:e,setSelectedForm:r}=ga(se.REDIRECT),{interpolations:o,pauseAll:s,resumeAll:i,removeAll:a,allPaused:u}=l.useContext(Lo),f=async()=>{s()},d=async()=>{i()},h=()=>{a()},m=g=>{r(g),n.reset()},v=t&&!!o?.length;return c.jsx(xi,{onError:console.error,fallback:c.jsx(wr,{style:{height:"100%"},color:"red",children:"Something went wrong"}),children:c.jsx(Mo,{minHeight:"100dvh",children:c.jsx(z,{minHeight:"100dvh",flexGrow:"1",justify:"start",direction:"column",children:c.jsxs(z,{gap:"2",direction:"column",flexGrow:"1","data-testid":"dashboard",justify:"start",p:"3",children:[c.jsxs(To,{variant:"surface",radius:"full",onValueChange:m,size:"2",value:e,children:[c.jsx(We,{style:{cursor:"pointer"},value:se.REDIRECT,children:c.jsx(ze,{children:"Redirect"})}),c.jsx(We,{style:{cursor:"pointer"},value:se.HEADER,children:c.jsx(ze,{children:"Header"})}),c.jsx(We,{style:{cursor:"pointer"},value:se.SCRIPT,children:c.jsx(ze,{children:"Script"})})]}),c.jsx(Sn,{variant:"surface",children:c.jsx(z,{height:"100%",direction:"column",flexGrow:"1",children:c.jsxs("form",{children:[e===se.REDIRECT&&c.jsx(fa,{form:n}),e===se.HEADER&&c.jsx(da,{form:n}),e===se.SCRIPT&&c.jsx(ma,{form:n})]})})}),c.jsx(Ri,{ruleCount:o?.length,allPaused:!!u,onResumeAllRules:d,onPauseAllRules:f,onDeleteAllRules:h}),c.jsx(z,{width:"100%",p:"1",direction:"row",wrap:"wrap",children:v&&o?.map(g=>c.jsx(J,{p:"1",className:va.RuleCardContainer,children:c.jsx(bn,{info:g})},g.details?.id))})]})})})})},hr=document.getElementById("root");hr instanceof HTMLElement&&yn.createRoot(hr).render(c.jsx(l.StrictMode,{children:c.jsx(yr,{style:{backgroundColor:"#FFDE21"},radius:"large",children:c.jsx(wa,{children:c.jsx(xa,{})})})}));
