import{r,j as n,c as ye,a as he,u as Re,P as Pe,b as P,d as W,e as I,f as oe,B as Ce,g as be,R as ge,V as se,h as _e,i as Se,k as Ie,l as Ne,m as De,p as Fe,I as Ae,n as je}from"./useInterpolations-CTcpeT-h.js";import"./InterpolateStorage-BI30zlBt.js";var J="ToastProvider",[Q,Le,Oe]=ye("Toast"),[ne,ft]=he("Toast",[Oe]),[Me,U]=ne(J),re=e=>{const{__scopeToast:o,label:s="Notification",duration:t=5e3,swipeDirection:u="right",swipeThreshold:d=50,children:p}=e,[m,w]=r.useState(null),[c,R]=r.useState(0),E=r.useRef(!1),N=r.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${J}\`. Expected non-empty \`string\`.`),n.jsx(Q.Provider,{scope:o,children:n.jsx(Me,{scope:o,label:s,duration:t,swipeDirection:u,swipeThreshold:d,toastCount:c,viewport:m,onViewportChange:w,onToastAdd:r.useCallback(()=>R(g=>g+1),[]),onToastRemove:r.useCallback(()=>R(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:E,isClosePausedRef:N,children:p})})};re.displayName=J;var ae="ToastViewport",ke=["F8"],q="toast.viewportPause",z="toast.viewportResume",ie=r.forwardRef((e,o)=>{const{__scopeToast:s,hotkey:t=ke,label:u="Notifications ({hotkey})",...d}=e,p=U(ae,s),m=Le(s),w=r.useRef(null),c=r.useRef(null),R=r.useRef(null),E=r.useRef(null),N=oe(o,E,p.onViewportChange),g=t.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=p.toastCount>0;r.useEffect(()=>{const i=x=>{t.length!==0&&t.every(T=>x[T]||x.code===T)&&E.current?.focus()};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[t]),r.useEffect(()=>{const i=w.current,x=E.current;if(_&&i&&x){const f=()=>{if(!p.isClosePausedRef.current){const v=new CustomEvent(q);x.dispatchEvent(v),p.isClosePausedRef.current=!0}},T=()=>{if(p.isClosePausedRef.current){const v=new CustomEvent(z);x.dispatchEvent(v),p.isClosePausedRef.current=!1}},y=v=>{!i.contains(v.relatedTarget)&&T()},h=()=>{i.contains(document.activeElement)||T()};return i.addEventListener("focusin",f),i.addEventListener("focusout",y),i.addEventListener("pointermove",f),i.addEventListener("pointerleave",h),window.addEventListener("blur",f),window.addEventListener("focus",T),()=>{i.removeEventListener("focusin",f),i.removeEventListener("focusout",y),i.removeEventListener("pointermove",f),i.removeEventListener("pointerleave",h),window.removeEventListener("blur",f),window.removeEventListener("focus",T)}}},[_,p.isClosePausedRef]);const l=r.useCallback(({tabbingDirection:i})=>{const f=m().map(T=>{const y=T.ref.current,h=[y,...Qe(y)];return i==="forwards"?h:h.reverse()});return(i==="forwards"?f.reverse():f).flat()},[m]);return r.useEffect(()=>{const i=E.current;if(i){const x=f=>{const T=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!T){const h=document.activeElement,v=f.shiftKey;if(f.target===i&&v){c.current?.focus();return}const F=l({tabbingDirection:v?"backwards":"forwards"}),M=F.findIndex(S=>S===h);B(F.slice(M+1))?f.preventDefault():v?c.current?.focus():R.current?.focus()}};return i.addEventListener("keydown",x),()=>i.removeEventListener("keydown",x)}},[m,l]),n.jsxs(Ce,{ref:w,role:"region","aria-label":u.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&n.jsx(G,{ref:c,onFocusFromOutsideViewport:()=>{const i=l({tabbingDirection:"forwards"});B(i)}}),n.jsx(Q.Slot,{scope:s,children:n.jsx(I.ol,{tabIndex:-1,...d,ref:N})}),_&&n.jsx(G,{ref:R,onFocusFromOutsideViewport:()=>{const i=l({tabbingDirection:"backwards"});B(i)}})]})});ie.displayName=ae;var ce="ToastFocusProxy",G=r.forwardRef((e,o)=>{const{__scopeToast:s,onFocusFromOutsideViewport:t,...u}=e,d=U(ce,s);return n.jsx(se,{"aria-hidden":!0,tabIndex:0,...u,ref:o,style:{position:"fixed"},onFocus:p=>{const m=p.relatedTarget;!d.viewport?.contains(m)&&t()}})});G.displayName=ce;var L="Toast",Ve="toast.swipeStart",Ke="toast.swipeMove",He="toast.swipeCancel",$e="toast.swipeEnd",ue=r.forwardRef((e,o)=>{const{forceMount:s,open:t,defaultOpen:u,onOpenChange:d,...p}=e,[m,w]=Re({prop:t,defaultProp:u??!0,onChange:d,caller:L});return n.jsx(Pe,{present:s||m,children:n.jsx(Xe,{open:m,...p,ref:o,onClose:()=>w(!1),onPause:W(e.onPause),onResume:W(e.onResume),onSwipeStart:P(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:P(e.onSwipeMove,c=>{const{x:R,y:E}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${R}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${E}px`)}),onSwipeCancel:P(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:P(e.onSwipeEnd,c=>{const{x:R,y:E}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${R}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${E}px`),w(!1)})})})});ue.displayName=L;var[We,Ue]=ne(L,{onClose(){}}),Xe=r.forwardRef((e,o)=>{const{__scopeToast:s,type:t="foreground",duration:u,open:d,onClose:p,onEscapeKeyDown:m,onPause:w,onResume:c,onSwipeStart:R,onSwipeMove:E,onSwipeCancel:N,onSwipeEnd:g,..._}=e,l=U(L,s),[i,x]=r.useState(null),f=oe(o,a=>x(a)),T=r.useRef(null),y=r.useRef(null),h=u||l.duration,v=r.useRef(0),D=r.useRef(h),O=r.useRef(0),{onToastAdd:F,onToastRemove:M}=l,S=W(()=>{i?.contains(document.activeElement)&&l.viewport?.focus(),p()}),k=r.useCallback(a=>{!a||a===1/0||(window.clearTimeout(O.current),v.current=new Date().getTime(),O.current=window.setTimeout(S,a))},[S]);r.useEffect(()=>{const a=l.viewport;if(a){const C=()=>{k(D.current),c?.()},b=()=>{const A=new Date().getTime()-v.current;D.current=D.current-A,window.clearTimeout(O.current),w?.()};return a.addEventListener(q,b),a.addEventListener(z,C),()=>{a.removeEventListener(q,b),a.removeEventListener(z,C)}}},[l.viewport,h,w,c,k]),r.useEffect(()=>{d&&!l.isClosePausedRef.current&&k(h)},[d,h,l.isClosePausedRef,k]),r.useEffect(()=>(F(),()=>M()),[F,M]);const Z=r.useMemo(()=>i?we(i):null,[i]);return l.viewport?n.jsxs(n.Fragment,{children:[Z&&n.jsx(Ye,{__scopeToast:s,role:"status","aria-live":t==="foreground"?"assertive":"polite","aria-atomic":!0,children:Z}),n.jsx(We,{scope:s,onClose:S,children:be.createPortal(n.jsx(Q.ItemSlot,{scope:s,children:n.jsx(ge,{asChild:!0,onEscapeKeyDown:P(m,()=>{l.isFocusedToastEscapeKeyDownRef.current||S(),l.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(I.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":d?"open":"closed","data-swipe-direction":l.swipeDirection,..._,ref:f,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:P(e.onKeyDown,a=>{a.key==="Escape"&&(m?.(a.nativeEvent),a.nativeEvent.defaultPrevented||(l.isFocusedToastEscapeKeyDownRef.current=!0,S()))}),onPointerDown:P(e.onPointerDown,a=>{a.button===0&&(T.current={x:a.clientX,y:a.clientY})}),onPointerMove:P(e.onPointerMove,a=>{if(!T.current)return;const C=a.clientX-T.current.x,b=a.clientY-T.current.y,A=!!y.current,j=["left","right"].includes(l.swipeDirection),V=["left","up"].includes(l.swipeDirection)?Math.min:Math.max,Ee=j?V(0,C):0,xe=j?0:V(0,b),Y=a.pointerType==="touch"?10:2,K={x:Ee,y:xe},ee={originalEvent:a,delta:K};A?(y.current=K,H(Ke,E,ee,{discrete:!1})):te(K,l.swipeDirection,Y)?(y.current=K,H(Ve,R,ee,{discrete:!1}),a.target.setPointerCapture(a.pointerId)):(Math.abs(C)>Y||Math.abs(b)>Y)&&(T.current=null)}),onPointerUp:P(e.onPointerUp,a=>{const C=y.current,b=a.target;if(b.hasPointerCapture(a.pointerId)&&b.releasePointerCapture(a.pointerId),y.current=null,T.current=null,C){const A=a.currentTarget,j={originalEvent:a,delta:C};te(C,l.swipeDirection,l.swipeThreshold)?H($e,g,j,{discrete:!0}):H(He,N,j,{discrete:!0}),A.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),l.viewport)})]}):null}),Ye=e=>{const{__scopeToast:o,children:s,...t}=e,u=U(L,o),[d,p]=r.useState(!1),[m,w]=r.useState(!1);return Ge(()=>p(!0)),r.useEffect(()=>{const c=window.setTimeout(()=>w(!0),1e3);return()=>window.clearTimeout(c)},[]),m?null:n.jsx(_e,{asChild:!0,children:n.jsx(se,{...t,children:d&&n.jsxs(n.Fragment,{children:[u.label," ",s]})})})},Be="ToastTitle",le=r.forwardRef((e,o)=>{const{__scopeToast:s,...t}=e;return n.jsx(I.div,{...t,ref:o})});le.displayName=Be;var qe="ToastDescription",de=r.forwardRef((e,o)=>{const{__scopeToast:s,...t}=e;return n.jsx(I.div,{...t,ref:o})});de.displayName=qe;var pe="ToastAction",ze=r.forwardRef((e,o)=>{const{altText:s,...t}=e;return s.trim()?n.jsx(me,{altText:s,asChild:!0,children:n.jsx(Te,{...t,ref:o})}):(console.error(`Invalid prop \`altText\` supplied to \`${pe}\`. Expected non-empty \`string\`.`),null)});ze.displayName=pe;var fe="ToastClose",Te=r.forwardRef((e,o)=>{const{__scopeToast:s,...t}=e,u=Ue(fe,s);return n.jsx(me,{asChild:!0,children:n.jsx(I.button,{type:"button",...t,ref:o,onClick:P(e.onClick,u.onClose)})})});Te.displayName=fe;var me=r.forwardRef((e,o)=>{const{__scopeToast:s,altText:t,...u}=e;return n.jsx(I.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":t||void 0,...u,ref:o})});function we(e){const o=[];return Array.from(e.childNodes).forEach(t=>{if(t.nodeType===t.TEXT_NODE&&t.textContent&&o.push(t.textContent),Je(t)){const u=t.ariaHidden||t.hidden||t.style.display==="none",d=t.dataset.radixToastAnnounceExclude==="";if(!u)if(d){const p=t.dataset.radixToastAnnounceAlt;p&&o.push(p)}else o.push(...we(t))}}),o}function H(e,o,s,{discrete:t}){const u=s.originalEvent.currentTarget,d=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});o&&u.addEventListener(e,o,{once:!0}),t?Ie(u,d):u.dispatchEvent(d)}var te=(e,o,s=0)=>{const t=Math.abs(e.x),u=Math.abs(e.y),d=t>u;return o==="left"||o==="right"?d&&t>s:!d&&u>s};function Ge(e=()=>{}){const o=W(e);Se(()=>{let s=0,t=0;return s=window.requestAnimationFrame(()=>t=window.requestAnimationFrame(o)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(t)}},[o])}function Je(e){return e.nodeType===e.ELEMENT_NODE}function Qe(e){const o=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:t=>{const u=t.tagName==="INPUT"&&t.type==="hidden";return t.disabled||t.hidden||u?NodeFilter.FILTER_SKIP:t.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)o.push(s.currentNode);return o}function B(e){const o=document.activeElement;return e.some(s=>s===o?!0:(s.focus(),document.activeElement!==o))}var Ze=re,et=ie,tt=ue,ot=le,st=de;const nt="_Root_8dhxl_1",ve={Root:nt},rt="_ToastViewport_fosw9_1",at="_ToastRoot_fosw9_14",it="_ToastTitle_fosw9_67",ct="_ToastDescription_fosw9_75",$={ToastViewport:rt,ToastRoot:at,ToastTitle:it,ToastDescription:ct},ut=({children:e,title:o,open:s,onOpenChange:t})=>n.jsxs(Ze,{children:[n.jsxs(tt,{onOpenChange:t,open:s,className:$.ToastRoot,children:[o&&n.jsx(ot,{className:$.ToastTitle,children:o}),n.jsx(st,{className:$.ToastDescription,children:e})]}),n.jsx(et,{className:$.ToastViewport})]}),lt=()=>{const{recentlyUsed:e}=Ne();return n.jsx(De,{style:{minHeight:0,backgroundColor:"transparent"},children:n.jsx(Fe,{direction:"column",className:ve.Root,children:e.map(o=>n.jsx(ut,{onOpenChange:o?.onOpenChange,open:!o?.hidden,children:n.jsx(Ae,{info:o})}))})})},X=document.createElement("div");X.id="crxjs-app";X.className=ve.Root;document.body.prepend(X);je.createRoot(X).render(n.jsx(r.StrictMode,{children:n.jsx(lt,{})}));
